import{a_ as ne,aZ as ae,g as u,aM as re,j as e,l as K,aP as V,aR as le,aX as fe,aV as ie,bP as je,eR as ce,K as j,cq as X,fZ as be,dX as B,E as L,B as b,cS as Q,T as $,cv as ye,eE as ve,dz as De,A as de,eS as he,I as m,V as z,ea as G,e6 as ke,dQ as Z,ct as pe,cu as E,D as q,F as R,dP as ee,b1 as Fe,U as we,fh as xe,b6 as Te,aT as Se,ex as Re,d1 as Ae,aQ as oe,cy as O,f_ as Ie,dU as Ee,fj as Pe,eh as Me,eV as Le,fl as $e,f$ as Ne,o as Be}from"./index-BPi-lj99.js";import{E as ze}from"./empty-content-9ilj_6E5.js";import{C as Y}from"./confirm-dialog-DFJzv7fL.js";import{T as Oe,a as Ue,b as He,u as We,g as Ve,r as Ge}from"./table-pagination-custom-Q4IswwrP.js";import{T as _e}from"./table-head-custom-ipFp6YIf.js";import{a as ue}from"./format-number-bPxp5Hz3.js";import{F as me,a as J,d as _,b as se,c as Ke}from"./file-manager-folder-item-B76f9kE0.js";import{T as Xe,a as Qe,b as Ze}from"./TableHead-BK-FFbhv.js";import{T as I}from"./TableCell-DZiVaiNL.js";import{C as N}from"./Checkbox-Cb0hcSDN.js";import{A as ge}from"./AvatarGroup-B6qpr1FO.js";import{t as qe}from"./TablePagination-tZn8MUMt.js";import{C as Ye}from"./custom-date-range-picker-CcL9YUv3.js";import{S as Ce}from"./Stack-qxGgU9sa.js";import{F as Je,a as U,c as H}from"./filters-result-uhHU2u14.js";import{T as eo,a as te}from"./ToggleButtonGroup-DszbIk6U.js";import"./DialogTitle-B2Gb2OYZ.js";import"./dialogTitleClasses-pRzgyf3x.js";import"./DialogContent-31eqGF97.js";import"./DialogActions-D-kuG3ww.js";import"./FormControlLabel-CR_hDGs6.js";import"./upload-BlD-M9M6.js";import"./index-DpGkvVRP.js";import"./index-BSK_tT2J.js";import"./index-Chjiymov.js";import"./preview-single-file-CNraPjvt.js";import"./LastPage-ClWw7PMw.js";import"./DatePicker-CUx5CUAj.js";function oo(o){return ae("MuiCardActionArea",o)}const W=ne("MuiCardActionArea",["root","focusVisible","focusHighlight"]),so=o=>{const{classes:a}=o;return le({root:["root"],focusHighlight:["focusHighlight"]},oo,a)},to=K(fe,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(o,a)=>a.root})(ie(({theme:o})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${W.focusHighlight}`]:{opacity:(o.vars||o).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${W.focusVisible} .${W.focusHighlight}`]:{opacity:(o.vars||o).palette.action.focusOpacity}}))),no=K("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(o,a)=>a.focusHighlight})(ie(({theme:o})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:o.transitions.create("opacity",{duration:o.transitions.duration.short})}))),ao=u.forwardRef(function(a,p){const d=re({props:a,name:"MuiCardActionArea"}),{children:t,className:h,focusVisibleClassName:x,...l}=d,n=d,s=so(n);return e.jsxs(to,{className:V(s.root,h),focusVisibleClassName:V(x,s.focusVisible),ref:p,ownerState:n,...l,children:[t,e.jsx(no,{className:s.focusHighlight,ownerState:n})]})});function ro(o){return ae("MuiTableContainer",o)}ne("MuiTableContainer",["root"]);const lo=o=>{const{classes:a}=o;return le({root:["root"]},ro,a)},io=K("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(o,a)=>a.root})({width:"100%",overflowX:"auto"}),co=u.forwardRef(function(a,p){const d=re({props:a,name:"MuiTableContainer"}),{className:t,component:h="div",...x}=d,l={...d,component:h},n=lo(l);return e.jsx(io,{ref:p,as:h,className:V(n.root,t),ownerState:l,...x})});function ho({row:o,selected:a,onSelectRow:p,onDeleteRow:d}){const t=je(),{copy:h}=ce(),[x,l]=u.useState(""),n=j(),s=j(),g=j(),r=X(),C=j(o.isFavorited),D=u.useCallback(k=>{l(k.target.value)},[]),f=be({click:()=>{s.onTrue()},doubleClick:()=>console.info("DOUBLE CLICK")}),F=u.useCallback(()=>{B.success("Copied!"),h(o.url)},[h,o.url]),y={borderTop:`solid 1px ${L(t.vars.palette.grey["500Channel"],.16)}`,borderBottom:`solid 1px ${L(t.vars.palette.grey["500Channel"],.16)}`,"&:first-of-type":{borderTopLeftRadius:16,borderBottomLeftRadius:16,borderLeft:`solid 1px ${L(t.vars.palette.grey["500Channel"],.16)}`},"&:last-of-type":{borderTopRightRadius:16,borderBottomRightRadius:16,borderRight:`solid 1px ${L(t.vars.palette.grey["500Channel"],.16)}`}},w=()=>e.jsx(Z,{open:r.open,anchorEl:r.anchorEl,onClose:r.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(pe,{children:[e.jsxs(E,{onClick:()=>{r.onClose(),F()},children:[e.jsx(m,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(E,{onClick:()=>{r.onClose(),n.onTrue()},children:[e.jsx(m,{icon:"solar:share-bold"}),"Share"]}),e.jsx(q,{sx:{borderStyle:"dashed"}}),e.jsxs(E,{onClick:()=>{g.onTrue(),r.onClose()},sx:{color:"error.main"},children:[e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),T=()=>e.jsx(me,{file:o,favorited:C.value,onFavorite:C.onToggle,onCopyLink:F,open:s.value,onClose:s.onFalse,onDelete:d}),i=()=>e.jsx(J,{open:n.value,shared:o.shared,inviteEmail:x,onChangeInvite:D,onCopyLink:F,onClose:()=>{n.onFalse(),l("")}}),v=()=>e.jsx(Y,{open:g.value,onClose:g.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(R,{variant:"contained",color:"error",onClick:d,children:"Delete"})});return e.jsxs(e.Fragment,{children:[e.jsxs(Xe,{selected:a,sx:{borderRadius:2,[`&.${ke.selected}, &:hover`]:{backgroundColor:"background.paper",boxShadow:t.vars.customShadows.z20,transition:t.transitions.create(["background-color","box-shadow"],{duration:t.transitions.duration.shortest}),"&:hover":{backgroundColor:"background.paper",boxShadow:t.vars.customShadows.z20}},[`& .${G.root}`]:{...y},...s.value&&{[`& .${G.root}`]:{...y}}},children:[e.jsx(I,{padding:"checkbox",children:e.jsx(N,{checked:a,onClick:p,onDoubleClick:()=>console.info("ON DOUBLE CLICK"),slotProps:{input:{id:`${o.id}-checkbox`,"aria-label":`${o.id} checkbox`}}})}),e.jsx(I,{onClick:f,children:e.jsxs(b,{sx:{gap:2,display:"flex",alignItems:"center"},children:[e.jsx(Q,{file:o.type}),e.jsx($,{noWrap:!0,variant:"inherit",sx:{maxWidth:360,cursor:"pointer",...s.value&&{fontWeight:"fontWeightBold"}},children:o.name})]})}),e.jsx(I,{onClick:f,sx:{whiteSpace:"nowrap"},children:ue(o.size)}),e.jsx(I,{onClick:f,sx:{whiteSpace:"nowrap"},children:o.type}),e.jsx(I,{onClick:f,sx:{whiteSpace:"nowrap"},children:e.jsx(ye,{primary:De(o.modifiedAt),secondary:ve(o.modifiedAt),slotProps:{primary:{sx:{typography:"body2"}},secondary:{sx:{mt:.5,typography:"caption"}}}})}),e.jsx(I,{align:"right",onClick:f,children:e.jsx(ge,{max:4,sx:{display:"inline-flex",[`& .${he.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:o.shared&&o.shared.map(k=>e.jsx(de,{alt:k.name,src:k.avatarUrl},k.id))})}),e.jsxs(I,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:[e.jsx(N,{color:"warning",icon:e.jsx(m,{icon:"eva:star-outline"}),checkedIcon:e.jsx(m,{icon:"eva:star-fill"}),checked:C.value,onChange:C.onToggle,sx:{p:.75},slotProps:{input:{id:`favorite-checkbox-${o.id}`,"aria-label":"Favorite checkbox"}}}),e.jsx(z,{color:r.open?"inherit":"default",onClick:r.onOpen,children:e.jsx(m,{icon:"eva:more-vertical-fill"})})]})]}),T(),i(),w(),v()]})}const po=[{id:"name",label:"Name"},{id:"size",label:"Size",width:120},{id:"type",label:"Type",width:120},{id:"modifiedAt",label:"Modified",width:140},{id:"shared",label:"Shared",align:"right",width:140},{id:"",width:88}];function xo({sx:o,table:a,notFound:p,onDeleteRow:d,dataFiltered:t,onOpenConfirm:h,...x}){const{dense:l,page:n,order:s,orderBy:g,rowsPerPage:r,selected:C,onSelectRow:D,onSelectAllRows:f,onSort:F,onChangeDense:y,onChangePage:w,onChangeRowsPerPage:T}=a;return e.jsxs(e.Fragment,{children:[e.jsxs(b,{sx:[i=>({position:"relative",m:{md:i.spacing(-2,-3,0,-3)}}),...Array.isArray(o)?o:[o]],...x,children:[e.jsx(Oe,{dense:l,numSelected:C.length,rowCount:t.length,onSelectAllRows:i=>f(i,t.map(v=>v.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(ee,{title:"Share",children:e.jsx(z,{color:"primary",children:e.jsx(m,{icon:"solar:share-bold"})})}),e.jsx(ee,{title:"Delete",children:e.jsx(z,{color:"primary",onClick:h,children:e.jsx(m,{icon:"solar:trash-bin-trash-bold"})})})]}),sx:{pl:1,pr:2,top:16,left:24,right:24,width:"auto",borderRadius:1.5}}),e.jsx(co,{sx:{px:{md:3}},children:e.jsxs(Qe,{size:l?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[e.jsx(_e,{order:s,orderBy:g,headCells:po,rowCount:t.length,numSelected:C.length,onSort:F,onSelectAllRows:i=>f(i,t.map(v=>v.id)),sx:{[`& .${G.head}`]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),e.jsxs(Ze,{children:[t.slice(n*r,n*r+r).map(i=>e.jsx(ho,{row:i,selected:C.includes(i.id),onSelectRow:()=>D(i.id),onDeleteRow:()=>d(i.id)},i.id)),e.jsx(Ue,{notFound:p,sx:[i=>({m:-2,borderRadius:1.5,border:`dashed 1px ${i.vars.palette.divider}`})]})]})]})})]}),e.jsx(He,{page:n,dense:l,rowsPerPage:r,count:t.length,onPageChange:w,onChangeDense:y,onRowsPerPageChange:T,sx:{[`& .${qe.toolbar}`]:{borderTopColor:"transparent"}}})]})}function uo({filters:o,options:a,dateError:p,onResetPage:d,openDateRange:t,onOpenDateRange:h,onCloseDateRange:x}){const l=X(),{state:n,setState:s}=o,g=n.type.length?n.type.slice(0,2).join(","):"All type",r=u.useCallback(i=>{d(),s({name:i.target.value})},[d,s]),C=u.useCallback(i=>{d(),s({startDate:i})},[d,s]),D=u.useCallback(i=>{s({endDate:i})},[s]),f=u.useCallback(i=>{const v=n.type.includes(i)?n.type.filter(k=>k!==i):[...n.type,i];s({type:v})},[s,n.type]),F=u.useCallback(()=>{l.onClose(),s({type:[]})},[l,s]),y=()=>e.jsx(Fe,{value:n.name,onChange:r,placeholder:"Search...",slotProps:{input:{startAdornment:e.jsx(we,{position:"start",children:e.jsx(m,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}},sx:{width:{xs:1,md:260}}}),w=()=>e.jsxs(e.Fragment,{children:[e.jsxs(R,{color:"inherit",onClick:l.onOpen,endIcon:e.jsx(m,{icon:l.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:[g,n.type.length>2&&e.jsxs(Te,{color:"info",sx:{ml:1},children:["+",n.type.length-2]})]}),e.jsx(Z,{open:l.open,anchorEl:l.anchorEl,onClose:l.onClose,slotProps:{paper:{sx:{p:2.5}}},children:e.jsxs(Ce,{spacing:2.5,children:[e.jsx(b,{sx:{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(4, 1fr)"}},children:a.types.map(i=>{const v=n.type.includes(i);return e.jsx(ao,{onClick:()=>f(i),sx:[k=>({p:1,borderRadius:1,cursor:"pointer",border:`solid 1px ${L(k.vars.palette.grey["500Channel"],.08)}`,...v&&{bgcolor:"action.selected"}})],children:e.jsxs(b,{sx:{gap:1,display:"flex",alignItems:"center",typography:"caption",textTransform:"capitalize",...v&&{fontWeight:"fontWeightSemiBold"}},children:[e.jsx(Q,{file:i,sx:{width:24,height:24}}),i]})},i)})}),e.jsxs(b,{sx:{gap:1.5,display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[e.jsx(R,{variant:"outlined",color:"inherit",onClick:F,children:"Clear"}),e.jsx(R,{variant:"contained",onClick:l.onClose,children:"Apply"})]})]})})]}),T=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{color:"inherit",onClick:h,endIcon:e.jsx(m,{icon:t?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:n.startDate&&n.endDate?xe(n.startDate,n.endDate):"Select date"}),e.jsx(Ye,{variant:"calendar",startDate:n.startDate,endDate:n.endDate,onChangeStartDate:C,onChangeEndDate:D,open:t,onClose:x,selected:!!n.startDate&&!!n.endDate,error:p})]});return e.jsxs(b,{sx:{gap:1,width:1,display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"}},children:[y(),e.jsxs(b,{sx:{gap:1,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[T(),w()]})]})}function mo({file:o,selected:a,onSelect:p,onDelete:d,sx:t,...h}){const x=j(),l=j(),n=j(),s=X(),g=j(),r=j(o.isFavorited),{copy:C}=ce(),[D,f]=u.useState(""),F=u.useCallback(c=>{f(c.target.value)},[]),y=u.useCallback(()=>{B.success("Copied!"),C(o.url)},[C,o.url]),w=()=>e.jsx(b,{onMouseEnter:g.onTrue,onMouseLeave:g.onFalse,sx:{display:"inline-flex",width:36,height:36},children:(g.value||a)&&p?e.jsx(N,{checked:a,onClick:p,icon:e.jsx(m,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(m,{icon:"solar:check-circle-bold"}),slotProps:{input:{id:`${o.id}-checkbox`,"aria-label":`${o.id} checkbox`}},sx:{width:1,height:1}}):e.jsx(Q,{file:o.type,sx:{width:1,height:1}})}),T=()=>e.jsxs(b,{sx:{top:8,right:8,display:"flex",position:"absolute",alignItems:"center"},children:[e.jsx(N,{color:"warning",icon:e.jsx(m,{icon:"eva:star-outline"}),checkedIcon:e.jsx(m,{icon:"eva:star-fill"}),checked:r.value,onChange:r.onToggle,slotProps:{input:{id:`favorite-${o.id}-checkbox`,"aria-label":`Favorite ${o.id} checkbox`}}}),e.jsx(z,{color:s.open?"inherit":"default",onClick:s.onOpen,children:e.jsx(m,{icon:"eva:more-vertical-fill"})})]}),i=()=>e.jsxs(e.Fragment,{children:[e.jsx($,{variant:"subtitle2",onClick:n.onTrue,sx:c=>({...c.mixins.maxLine({line:2,persistent:c.typography.subtitle2}),mt:2,mb:.5,width:1}),children:o.name}),e.jsxs(b,{sx:{maxWidth:.99,display:"flex",whiteSpace:"nowrap",alignItems:"center",typography:"caption",color:"text.disabled"},children:[ue(o.size),e.jsx(b,{component:"span",sx:{mx:.75,width:2,height:2,flexShrink:0,borderRadius:"50%",bgcolor:"currentColor"}}),e.jsx($,{noWrap:!0,component:"span",variant:"caption",children:Re(o.modifiedAt)})]})]}),v=()=>{var c;return e.jsx(ge,{max:3,sx:{mt:1,[`& .${he.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:(c=o.shared)==null?void 0:c.map(M=>e.jsx(de,{alt:M.name,src:M.avatarUrl},M.id))})},k=()=>e.jsx(J,{open:x.value,shared:o.shared,inviteEmail:D,onChangeInvite:F,onCopyLink:y,onClose:()=>{x.onFalse(),f("")}}),P=()=>e.jsx(me,{file:o,favorited:r.value,onFavorite:r.onToggle,onCopyLink:y,open:n.value,onClose:n.onFalse,onDelete:()=>{n.onFalse(),d()}}),A=()=>e.jsx(Z,{open:s.open,anchorEl:s.anchorEl,onClose:s.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(pe,{children:[e.jsxs(E,{onClick:()=>{s.onClose(),y()},children:[e.jsx(m,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(E,{onClick:()=>{s.onClose(),x.onTrue()},children:[e.jsx(m,{icon:"solar:share-bold"}),"Share"]}),e.jsx(q,{sx:{borderStyle:"dashed"}}),e.jsxs(E,{onClick:()=>{l.onTrue(),s.onClose()},sx:{color:"error.main"},children:[e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),S=()=>e.jsx(Y,{open:l.value,onClose:l.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(R,{variant:"contained",color:"error",onClick:d,children:"Delete"})});return e.jsxs(e.Fragment,{children:[e.jsxs(Se,{variant:"outlined",sx:[c=>({p:2.5,display:"flex",borderRadius:2,cursor:"pointer",position:"relative",bgcolor:"transparent",flexDirection:"column",alignItems:"flex-start",...(g.value||a)&&{bgcolor:"background.paper",boxShadow:c.vars.customShadows.z20}}),...Array.isArray(t)?t:[t]],...h,children:[w(),i(),v(),T()]}),k(),P(),A(),S()]})}function go({action:o,selected:a,rowCount:p,numSelected:d,onSelectAllItems:t,sx:h,...x}){return e.jsx(Ae,{children:e.jsxs(b,{sx:[l=>({right:0,zIndex:9,bottom:0,display:"flex",borderRadius:1.5,position:"fixed",alignItems:"center",bgcolor:"text.primary",p:l.spacing(1.5,2,1.5,1),boxShadow:l.vars.customShadows.z20,m:{xs:2,md:3}}),...Array.isArray(h)?h:[h]],...x,children:[e.jsx(N,{indeterminate:!!d&&d<p,checked:!!p&&d===p,onChange:l=>t(l.target.checked),icon:e.jsx(m,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(m,{icon:"solar:check-circle-bold"}),indeterminateIcon:e.jsx(m,{icon:"eva:minus-circle-fill"})}),a&&e.jsxs($,{variant:"subtitle2",sx:[l=>({mr:2,color:"common.white",...l.applyStyles("dark",{color:"grey.800"})})],children:[a.length," Items selected"]}),o&&o]})})}function Co({table:o,dataFiltered:a,onDeleteItem:p,onOpenConfirm:d}){const{selected:t,onSelectRow:h,onSelectAllRows:x}=o,l=u.useRef(null),n=j(),s=j(),g=j(),r=j(),C=j(),[D,f]=u.useState(""),[F,y]=u.useState(""),w=u.useCallback(c=>{y(c.target.value)},[]),T=u.useCallback(c=>{f(c.target.value)},[]),i=()=>e.jsx(J,{open:n.value,inviteEmail:F,onChangeInvite:w,onClose:()=>{n.onFalse(),y("")}}),v=()=>e.jsx(_,{open:r.value,onClose:r.onFalse}),k=()=>e.jsx(_,{open:C.value,onClose:C.onFalse,title:"New Folder",onCreate:()=>{C.onFalse(),f(""),console.info("CREATE NEW FOLDER",D)},folderName:D,onChangeFolderName:T}),P=()=>e.jsxs(e.Fragment,{children:[e.jsx(se,{title:"Folders",subtitle:`${a.filter(c=>c.type==="folder").length} folders`,onOpen:C.onTrue,collapse:g.value,onCollapse:g.onToggle}),e.jsx(oe,{in:!g.value,unmountOnExit:!0,children:e.jsx(b,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"}},children:a.filter(c=>c.type==="folder").map(c=>e.jsx(Ke,{folder:c,selected:t.includes(c.id),onSelect:()=>h(c.id),onDelete:()=>p(c.id)},c.id))})})]}),A=()=>e.jsxs(e.Fragment,{children:[e.jsx(se,{title:"Files",subtitle:`${a.filter(c=>c.type!=="folder").length} files`,onOpen:r.onTrue,collapse:s.value,onCollapse:s.onToggle}),e.jsx(oe,{in:!s.value,unmountOnExit:!0,children:e.jsx(b,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"}},children:a.filter(c=>c.type!=="folder").map(c=>e.jsx(mo,{file:c,selected:t.includes(c.id),onSelect:()=>h(c.id),onDelete:()=>p(c.id)},c.id))})})]}),S=()=>!!(t!=null&&t.length)&&e.jsx(go,{numSelected:t.length,rowCount:a.length,selected:t,onSelectAllItems:c=>x(c,a.map(M=>M.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(R,{size:"small",color:"error",variant:"contained",startIcon:e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),onClick:d,sx:{mr:1},children:"Delete"}),e.jsx(R,{color:"primary",size:"small",variant:"contained",startIcon:e.jsx(m,{icon:"solar:share-bold"}),onClick:n.onTrue,children:"Share"})]})});return e.jsxs(e.Fragment,{children:[e.jsxs(b,{ref:l,children:[P(),e.jsx(q,{sx:{my:5,borderStyle:"dashed"}}),A(),S()]}),i(),v(),k()]})}function fo({filters:o,onResetPage:a,totalResults:p,sx:d}){const{state:t,setState:h,resetState:x}=o,l=u.useCallback(()=>{a(),h({name:""})},[a,h]),n=u.useCallback(r=>{const C=t.type.filter(D=>D!==r);a(),h({type:C})},[a,h,t.type]),s=u.useCallback(()=>{a(),h({startDate:null,endDate:null})},[a,h]),g=u.useCallback(()=>{a(),x()},[a,x]);return e.jsxs(Je,{totalResults:p,onReset:g,sx:d,children:[e.jsx(U,{label:"Types:",isShow:!!t.type.length,children:t.type.map(r=>u.createElement(O,{...H,key:r,label:r,onDelete:()=>n(r),sx:{textTransform:"capitalize"}}))}),e.jsx(U,{label:"Date:",isShow:!!(t.startDate&&t.endDate),children:e.jsx(O,{...H,label:xe(t.startDate,t.endDate),onDelete:s})}),e.jsx(U,{label:"Keyword:",isShow:!!t.name,children:e.jsx(O,{...H,label:t.name,onDelete:l})})]})}function jo(){const o=We({defaultRowsPerPage:10}),a=j(),p=j(),d=j(),[t,h]=u.useState("list"),[x,l]=u.useState(Ie),n=Ee({name:"",type:[],startDate:null,endDate:null}),{state:s}=n,g=Pe(s.startDate,s.endDate),r=bo({inputData:x,comparator:Ve(o.order,o.orderBy),filters:s,dateError:g}),C=Ge(r,o.page,o.rowsPerPage),D=!!s.name||s.type.length>0||!!s.startDate&&!!s.endDate,f=!r.length&&D||!r.length,F=u.useCallback((A,S)=>{S!==null&&h(S)},[]),y=u.useCallback(A=>{const S=x.filter(c=>c.id!==A);B.success("Delete success!"),l(S),o.onUpdatePageDeleteRow(C.length)},[C.length,o,x]),w=u.useCallback(()=>{const A=x.filter(S=>!o.selected.includes(S.id));B.success("Delete success!"),l(A),o.onUpdatePageDeleteRows(C.length,r.length)},[r.length,C.length,o,x]),T=()=>e.jsxs(b,{sx:{gap:2,display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"}},children:[e.jsx(uo,{filters:n,dateError:g,onResetPage:o.onResetPage,openDateRange:a.value,onOpenDateRange:a.onTrue,onCloseDateRange:a.onFalse,options:{types:Ne}}),e.jsxs(eo,{size:"small",value:t,exclusive:!0,onChange:F,children:[e.jsx(te,{value:"list",children:e.jsx(m,{icon:"solar:list-bold"})}),e.jsx(te,{value:"grid",children:e.jsx(m,{icon:"mingcute:dot-grid-fill"})})]})]}),i=()=>e.jsx(fo,{filters:n,totalResults:r.length,onResetPage:o.onResetPage}),v=()=>e.jsx(_,{open:d.value,onClose:d.onFalse}),k=()=>e.jsx(Y,{open:p.value,onClose:p.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",o.selected.length," "]})," items?"]}),action:e.jsx(R,{variant:"contained",color:"error",onClick:()=>{w(),p.onFalse()},children:"Delete"})}),P=()=>t==="list"?e.jsx(xo,{table:o,dataFiltered:r,onDeleteRow:y,notFound:f,onOpenConfirm:p.onTrue}):e.jsx(Co,{table:o,dataFiltered:r,onDeleteItem:y,onOpenConfirm:p.onTrue});return e.jsxs(e.Fragment,{children:[e.jsxs(Me,{children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx($,{variant:"h4",children:"File manager"}),e.jsx(R,{variant:"contained",startIcon:e.jsx(m,{icon:"eva:cloud-upload-fill"}),onClick:d.onTrue,children:"Upload"})]}),e.jsxs(Ce,{spacing:2.5,sx:{my:{xs:3,md:5}},children:[T(),D&&i()]}),f?e.jsx(ze,{filled:!0,sx:{py:10}}):P()]}),v(),k()]})}function bo({inputData:o,comparator:a,filters:p,dateError:d}){const{name:t,type:h,startDate:x,endDate:l}=p,n=o.map((s,g)=>[s,g]);return n.sort((s,g)=>{const r=a(s[0],g[0]);return r!==0?r:s[1]-g[1]}),o=n.map(s=>s[0]),t&&(o=o.filter(s=>s.name.toLowerCase().includes(t.toLowerCase()))),h.length&&(o=o.filter(s=>h.includes(Le(s.type)))),d||x&&l&&(o=o.filter(s=>$e(s.createdAt,x,l))),o}const yo={title:`File manager | Dashboard - ${Be.appName}`};function Zo(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:yo.title}),e.jsx(jo,{})]})}export{Zo as default};
