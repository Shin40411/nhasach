import{O as S,j as s,B as d,dP as n,Z as o,W as u,R as C,I as h,b5 as w,cu as F,dr as N,M as P,g,fs as k,z as A,L as O,T as a,dz as f,D as y,dZ as W,eh as B,dJ as E,fm as G,x as L}from"./index-usks_mw-.js";import{u as V}from"./use-params-B6I143Jw.js";import"./empty-content-CMvi2U-9.js";import"./filters-result-DAXTSwm_.js";import{I as R,a as q,b as H}from"./invoice-pdf-DHoy5B6C.js";import{d as I}from"./format-number-1JRP8vfz.js";import{D as _}from"./DialogActions-tMlZhSgp.js";import{S as m}from"./Stack-CgODRvvD.js";import{a as z,c as M,T as D,b as U}from"./TableHead-DRTkY3AT.js";import{T as l}from"./TableCell-DewNvLwg.js";import"./zod-RlOVw4MX.js";import"./styles-CfUPITlh.js";import"./code-highlight-block-BPaUgu3R.js";import"./preview-single-file-BDCIPO5I.js";import"./schema-helper-nSaw4j_a.js";import"./form-provider-BBryKxXX.js";import"./address-new-form-_g4bz3B1.js";import"./fields-C0p86-nh.js";import"./Rating-D7Aom_ED.js";import"./editor-Dgj6bP_R.js";import"./FormGroup-BcIuZYAH.js";import"./FormControlLabel-4BKoF0oU.js";import"./index-BZxbeKDV.js";import"./index-Chjiymov.js";import"./Checkbox-CXJQ1e9t.js";import"./upload-D-BZQNpO.js";import"./index-D7BwrrXM.js";import"./image-CI7Up_jg.js";import"./DatePicker-bZIT4znD.js";import"./DialogContent-hfRIofTz.js";import"./dialogTitleClasses-ArRuUPNv.js";import"./DialogTitle-B2IaybZq.js";import"./address-list-dialog-D5ZLDsWw.js";import"./sumBy-ofy1HSRF.js";function Z({invoice:t,currentStatus:r,statusOptions:x,onChangeStatus:j}){const{value:i,onFalse:b,onTrue:e}=S(),p=()=>t?s.jsx(q,{invoice:t,currentStatus:r}):null,T=()=>s.jsx(N,{fullScreen:!0,open:i,children:s.jsxs(d,{sx:{height:1,display:"flex",flexDirection:"column"},children:[s.jsx(_,{sx:{p:1.5},children:s.jsx(P,{color:"inherit",variant:"contained",onClick:b,children:"Close"})}),s.jsx(d,{sx:{flexGrow:1,height:1,overflow:"hidden"},children:t&&s.jsx(R,{invoice:t,currentStatus:r})})]})});return s.jsxs(s.Fragment,{children:[s.jsxs(d,{sx:{gap:3,display:"flex",mb:{xs:3,md:5},flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-end",sm:"center"}},children:[s.jsxs(d,{sx:{gap:1,width:1,flexGrow:1,display:"flex"},children:[s.jsx(n,{title:"Edit",children:s.jsx(o,{component:C,href:u.dashboard.invoice.edit(`${t==null?void 0:t.id}`),children:s.jsx(h,{icon:"solar:pen-bold"})})}),s.jsx(n,{title:"View",children:s.jsx(o,{onClick:e,children:s.jsx(h,{icon:"solar:eye-bold"})})}),p(),s.jsx(n,{title:"Print",children:s.jsx(o,{children:s.jsx(h,{icon:"solar:printer-minimalistic-bold"})})}),s.jsx(n,{title:"Send",children:s.jsx(o,{children:s.jsx(h,{icon:"custom:send-fill"})})}),s.jsx(n,{title:"Share",children:s.jsx(o,{children:s.jsx(h,{icon:"solar:share-bold"})})})]}),s.jsx(w,{fullWidth:!0,select:!0,label:"Status",value:r,onChange:j,sx:{maxWidth:160},slotProps:{htmlInput:{id:"status-select"},inputLabel:{htmlFor:"status-select"}},children:x.map(c=>s.jsx(F,{value:c.value,children:c.label},c.value))})]}),T()]})}function $({invoice:t}){const[r,x]=g.useState(t==null?void 0:t.status),j=g.useCallback(e=>{x(e.target.value)},[]),i=()=>s.jsxs(d,{sx:{py:3,gap:2,display:"flex",flexWrap:"wrap",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx(a,{variant:"subtitle2",sx:{mb:.5},children:"NOTES"}),s.jsx(a,{variant:"body2",children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),s.jsxs(d,{sx:{flexGrow:{md:1},textAlign:{md:"right"}},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:.5},children:"Have a question?"}),s.jsx(a,{variant:"body2",children:"support@minimals.cc"})]})]}),b=()=>s.jsx(W,{sx:{mt:5},children:s.jsxs(z,{sx:{minWidth:960},children:[s.jsx(M,{children:s.jsxs(D,{children:[s.jsx(l,{width:40,children:"#"}),s.jsx(l,{sx:{typography:"subtitle2"},children:"Description"}),s.jsx(l,{children:"Qty"}),s.jsx(l,{align:"right",children:"Unit price"}),s.jsx(l,{align:"right",children:"Total"})]})}),s.jsx(U,{children:t==null?void 0:t.items.map((e,p)=>s.jsxs(D,{children:[s.jsx(l,{children:p+1}),s.jsx(l,{children:s.jsxs(d,{sx:{maxWidth:560},children:[s.jsx(a,{variant:"subtitle2",children:e.title}),s.jsx(a,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:e.description})]})}),s.jsx(l,{children:e.quantity}),s.jsx(l,{align:"right",children:I(e.price)}),s.jsx(l,{align:"right",children:I(e.price*e.quantity)})]},p))})]})});return s.jsxs(s.Fragment,{children:[s.jsx(Z,{invoice:t,currentStatus:r||"",onChangeStatus:j,statusOptions:k}),s.jsxs(A,{sx:{pt:5,px:5},children:[s.jsxs(d,{sx:{rowGap:5,display:"grid",alignItems:"center",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[s.jsx(d,{component:"img",alt:"Invoice logo",src:"/logo/logo-single.svg",sx:{width:48,height:48}}),s.jsxs(m,{spacing:1,sx:{alignItems:{xs:"flex-start",md:"flex-end"}},children:[s.jsx(O,{variant:"soft",color:r==="paid"&&"success"||r==="pending"&&"warning"||r==="overdue"&&"error"||"default",children:r}),s.jsx(a,{variant:"h6",children:t==null?void 0:t.invoiceNumber})]}),s.jsxs(m,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Invoice from"}),t==null?void 0:t.invoiceFrom.name,s.jsx("br",{}),t==null?void 0:t.invoiceFrom.fullAddress,s.jsx("br",{}),"Phone: ",t==null?void 0:t.invoiceFrom.phoneNumber,s.jsx("br",{})]}),s.jsxs(m,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Invoice to"}),t==null?void 0:t.invoiceTo.name,s.jsx("br",{}),t==null?void 0:t.invoiceTo.fullAddress,s.jsx("br",{}),"Phone: ",t==null?void 0:t.invoiceTo.phoneNumber,s.jsx("br",{})]}),s.jsxs(m,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Date create"}),f(t==null?void 0:t.createDate)]}),s.jsxs(m,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Due date"}),f(t==null?void 0:t.dueDate)]})]}),b(),s.jsx(y,{sx:{borderStyle:"dashed"}}),s.jsx(H,{taxes:t==null?void 0:t.taxes,subtotal:t==null?void 0:t.subtotal,discount:t==null?void 0:t.discount,shipping:t==null?void 0:t.shipping,totalAmount:t==null?void 0:t.totalAmount}),s.jsx(y,{sx:{mt:5,borderStyle:"dashed"}}),i()]})]})}function J({invoice:t}){return s.jsxs(B,{children:[s.jsx(E,{heading:t==null?void 0:t.invoiceNumber,backHref:u.dashboard.invoice.root,links:[{name:"Dashboard",href:u.dashboard.root},{name:"Invoice",href:u.dashboard.invoice.root},{name:t==null?void 0:t.invoiceNumber}],sx:{mb:3}}),s.jsx($,{invoice:t})]})}const Q={title:`Invoice details | Dashboard - ${L.appName}`};function ks(){const{id:t=""}=V(),r=G.find(x=>x.id===t);return s.jsxs(s.Fragment,{children:[s.jsx("title",{children:Q.title}),s.jsx(J,{invoice:r})]})}export{ks as default};
