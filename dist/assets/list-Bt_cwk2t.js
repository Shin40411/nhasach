import{cq as M,j as e,z as Q,Z as A,I as u,B as b,A as U,cv as X,dz as ee,V as D,R as F,D as z,T as j,dQ as $,ct as G,cu as R,g as a,W as S,M as J,N as se,dR as te,bA as N,bB as le,bD as V,bE as ne,bF as oe,b5 as q,dT as re,Y as ie,bG as ae,fM as H,bK as W,b8 as ce,dZ as de,dP as pe,cy as k,O as xe,dU as me,eh as he,dJ as ue,fO as fe,fN as be,fR as ye,fC as je,fS as ge,x as Ce}from"./index-usks_mw-.js";import{E as ke}from"./empty-content-CMvi2U-9.js";import{d as Se}from"./format-number-1JRP8vfz.js";import{P as Te,p as Ee}from"./Pagination-D5pfcmeh.js";import{R as ve,C as Fe}from"./fields-C0p86-nh.js";import{S as Y}from"./Stack-CgODRvvD.js";import{F as P}from"./FormControlLabel-4BKoF0oU.js";import{C as _}from"./Checkbox-CXJQ1e9t.js";import{F as we,a as E,c as v}from"./filters-result-DAXTSwm_.js";import{o as B}from"./orderBy-BP_idRMj.js";import"./job-new-edit-form-fhBqaf-M.js";import"./html-to-markdown-DWCueCQM.js";import"./LastPage-p2DRLW4r.js";import"./styles-CfUPITlh.js";import"./Rating-D7Aom_ED.js";import"./editor-Dgj6bP_R.js";import"./code-highlight-block-BPaUgu3R.js";import"./FormGroup-BcIuZYAH.js";import"./index-BZxbeKDV.js";import"./index-Chjiymov.js";import"./upload-D-BZQNpO.js";import"./index-D7BwrrXM.js";import"./preview-single-file-BDCIPO5I.js";import"./image-CI7Up_jg.js";import"./DatePicker-bZIT4znD.js";import"./DialogActions-tMlZhSgp.js";import"./DialogContent-hfRIofTz.js";import"./dialogTitleClasses-ArRuUPNv.js";import"./zod-RlOVw4MX.js";import"./schema-helper-nSaw4j_a.js";import"./form-provider-BBryKxXX.js";function Re({job:s,editHref:m,detailsHref:i,onDelete:t,sx:r,...d}){const n=M(),c=()=>e.jsx($,{open:n.open,anchorEl:n.anchorEl,onClose:n.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(G,{children:[e.jsx("li",{children:e.jsxs(R,{component:F,href:i,onClick:()=>n.onClose(),children:[e.jsx(u,{icon:"solar:eye-bold"}),"View"]})}),e.jsx("li",{children:e.jsxs(R,{component:F,href:m,onClick:()=>n.onClose(),children:[e.jsx(u,{icon:"solar:pen-bold"}),"Edit"]})}),e.jsxs(R,{onClick:()=>{n.onClose(),t()},sx:{color:"error.main"},children:[e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})});return e.jsxs(e.Fragment,{children:[e.jsxs(Q,{sx:r,...d,children:[e.jsx(A,{onClick:n.onOpen,sx:{position:"absolute",top:8,right:8},children:e.jsx(u,{icon:"eva:more-vertical-fill"})}),e.jsxs(b,{sx:{p:3,pb:2},children:[e.jsx(U,{alt:s.company.name,src:s.company.logo,variant:"rounded",sx:{width:48,height:48,mb:2}}),e.jsx(X,{sx:{mb:1},primary:e.jsx(D,{component:F,href:i,color:"inherit",children:s.title}),secondary:`Posted date: ${ee(s.createdAt)}`,slotProps:{primary:{sx:{typography:"subtitle1"}},secondary:{sx:{mt:1,typography:"caption",color:"text.disabled"}}}}),e.jsxs(b,{sx:{gap:.5,display:"flex",alignItems:"center",color:"primary.main",typography:"caption"},children:[e.jsx(u,{width:16,icon:"solar:users-group-rounded-bold"}),s.candidates.length," candidates"]})]}),e.jsx(z,{sx:{borderStyle:"dashed"}}),e.jsx(b,{sx:{p:3,rowGap:1.5,display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:[{label:s.experience,icon:e.jsx(u,{width:16,icon:"carbon:skill-level-basic",sx:{flexShrink:0}})},{label:s.employmentTypes.join(", "),icon:e.jsx(u,{width:16,icon:"solar:clock-circle-bold",sx:{flexShrink:0}})},{label:s.salary.negotiable?"Negotiable":Se(s.salary.price),icon:e.jsx(u,{width:16,icon:"solar:wad-of-money-bold",sx:{flexShrink:0}})},{label:s.role,icon:e.jsx(u,{width:16,icon:"solar:user-rounded-bold",sx:{flexShrink:0}})}].map(p=>e.jsxs(b,{sx:{gap:.5,minWidth:0,flexShrink:0,display:"flex",alignItems:"center",color:"text.disabled"},children:[p.icon,e.jsx(j,{variant:"caption",noWrap:!0,children:p.label})]},p.label))})]}),c()]})}function Ie({jobs:s}){const m=a.useCallback(i=>{console.info("DELETE",i)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(b,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},children:s.map(i=>e.jsx(Re,{job:i,editHref:S.dashboard.job.edit(i.id),detailsHref:S.dashboard.job.details(i.id),onDelete:()=>m(i.id)},i.id))}),s.length>8&&e.jsx(Te,{count:8,sx:{mt:{xs:8,md:8},[`& .${Ee.ul}`]:{justifyContent:"center"}}})]})}function Oe({sort:s,onSort:m,sortOptions:i}){const t=M(),r=()=>e.jsx($,{open:t.open,anchorEl:t.anchorEl,onClose:t.onClose,children:e.jsx(G,{children:i.map(d=>e.jsx(R,{selected:d.value===s,onClick:()=>{t.onClose(),m(d.value)},children:d.label},d.value))})});return e.jsxs(e.Fragment,{children:[e.jsxs(J,{disableRipple:!0,color:"inherit",onClick:t.onOpen,endIcon:e.jsx(u,{icon:t.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort by:",e.jsx(b,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:s})]}),r()]})}function Le({redirectPath:s,sx:m}){const i=se(),[t,r]=a.useState(""),[d,n]=a.useState(null),c=te(t),{searchResults:p,searchLoading:f}=Pe(c),g=a.useCallback(x=>{n(x),x&&i.push(s(x.id))},[s,i]),o={width:320,[`& .${N.listbox}`]:{[`& .${N.option}`]:{p:0,[`& .${le.root}`]:{px:1,py:.75,width:1}}}};return e.jsx(V,{autoHighlight:!0,popupIcon:null,loading:f,options:p,value:d,onChange:(x,h)=>g(h),onInputChange:(x,h)=>r(h),getOptionLabel:x=>x.title,noOptionsText:e.jsx(ae,{query:c}),isOptionEqualToValue:(x,h)=>x.id===h.id,slotProps:{paper:{sx:o}},sx:[{width:{xs:1,sm:260}},...Array.isArray(m)?m:[m]],renderInput:x=>e.jsx(q,{...x,placeholder:"Search...",slotProps:{input:{...x.InputProps,startAdornment:e.jsx(ie,{position:"start",children:e.jsx(u,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:e.jsxs(e.Fragment,{children:[f?e.jsx(re,{size:18,color:"inherit",sx:{mr:-3}}):null,x.InputProps.endAdornment]})}}}),renderOption:(x,h,{inputValue:w})=>{const I=ne(h.title,w),O=oe(h.title,I);return a.createElement("li",{...x,key:h.id},e.jsx(D,{component:F,href:s(h.id),color:"inherit",underline:"none",children:O.map((T,L)=>e.jsx(j,{component:"span",color:T.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:T.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:T.text},L))},w))}})}function Pe(s){const[m,i]=a.useState([]),[t,r]=a.useState(!1),d=a.useCallback(async()=>{r(!0);try{await new Promise(c=>setTimeout(c,500));const n=H.filter(({title:c})=>[c].some(p=>p==null?void 0:p.toLowerCase().includes(s.toLowerCase())));i(n)}catch(n){console.error(n)}finally{r(!1)}},[s]);return a.useEffect(()=>{s?d():i([])},[d,s]),{searchResults:m,searchLoading:t}}function Be({open:s,canReset:m,onOpen:i,onClose:t,filters:r,options:d}){const{state:n,setState:c,resetState:p}=r,f=a.useCallback(l=>{const y=n.employmentTypes.includes(l)?n.employmentTypes.filter(C=>C!==l):[...n.employmentTypes,l];c({employmentTypes:y})},[c,n.employmentTypes]),g=a.useCallback(l=>{c({experience:l})},[c]),o=a.useCallback(l=>{c({roles:l})},[c]),x=a.useCallback(l=>{c({locations:l})},[c]),h=a.useCallback(l=>{const y=n.benefits.includes(l)?n.benefits.filter(C=>C!==l):[...n.benefits,l];c({benefits:y})},[c,n.benefits]),w=()=>e.jsxs(e.Fragment,{children:[e.jsxs(b,{sx:{py:2,pr:1,pl:2.5,display:"flex",alignItems:"center"},children:[e.jsx(j,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),e.jsx(pe,{title:"Reset",children:e.jsx(A,{onClick:()=>p(),children:e.jsx(W,{color:"error",variant:"dot",invisible:!m,children:e.jsx(u,{icon:"solar:restart-bold"})})})}),e.jsx(A,{onClick:t,children:e.jsx(u,{icon:"mingcute:close-line"})})]}),e.jsx(z,{sx:{borderStyle:"dashed"}})]}),I=()=>e.jsxs(b,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Employment types"}),d.employmentTypes.map(l=>e.jsx(P,{control:e.jsx(_,{checked:n.employmentTypes.includes(l),onClick:()=>f(l)}),label:l},l))]}),O=()=>e.jsxs(b,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Experience"}),d.experiences.map(l=>e.jsx(P,{control:e.jsx(ve,{checked:l===n.experience,onClick:()=>g(l)}),label:l,sx:{...l==="all"&&{textTransform:"capitalize"}}},l))]}),T=()=>e.jsxs(b,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1.5},children:"Roles"}),e.jsx(V,{multiple:!0,disableCloseOnSelect:!0,options:d.roles.map(l=>l),getOptionLabel:l=>l,value:n.roles,onChange:(l,y)=>o(y),renderInput:l=>e.jsx(q,{placeholder:"Select Roles",...l}),renderOption:(l,y)=>a.createElement("li",{...l,key:y},y),renderTags:(l,y)=>l.map((C,K)=>a.createElement(k,{...y({index:K}),key:C,label:C,size:"small",variant:"soft"}))})]}),L=()=>e.jsxs(b,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1.5},children:"Locations"}),e.jsx(Fe,{id:"multiple-locations",multiple:!0,fullWidth:!0,placeholder:n.locations.length?"+ Locations":"Select Locations",value:n.locations,onChange:(l,y)=>x(y)})]}),Z=()=>e.jsxs(b,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Benefits"}),d.benefits.map(l=>e.jsx(P,{control:e.jsx(_,{checked:n.benefits.includes(l),onClick:()=>h(l)}),label:l},l))]});return e.jsxs(e.Fragment,{children:[e.jsx(J,{disableRipple:!0,color:"inherit",endIcon:e.jsx(W,{color:"error",variant:"dot",invisible:!m,children:e.jsx(u,{icon:"ic:round-filter-list"})}),onClick:i,children:"Filters"}),e.jsxs(ce,{anchor:"right",open:s,onClose:t,slotProps:{backdrop:{invisible:!0},paper:{sx:{width:320}}},children:[w(),e.jsx(de,{sx:{px:2.5,py:3},children:e.jsxs(Y,{spacing:3,children:[I(),O(),T(),L(),Z()]})})]})]})}function Ae({filters:s,totalResults:m,sx:i}){const{state:t,setState:r,resetState:d}=s,n=a.useCallback(o=>{const x=t.employmentTypes.filter(h=>h!==o);r({employmentTypes:x})},[r,t.employmentTypes]),c=a.useCallback(()=>{r({experience:"all"})},[r]),p=a.useCallback(o=>{const x=t.roles.filter(h=>h!==o);r({roles:x})},[r,t.roles]),f=a.useCallback(o=>{const x=t.locations.filter(h=>h!==o);r({locations:x})},[r,t.locations]),g=a.useCallback(o=>{const x=t.benefits.filter(h=>h!==o);r({benefits:x})},[r,t.benefits]);return e.jsxs(we,{totalResults:m,onReset:()=>d(),sx:i,children:[e.jsx(E,{label:"Employment types:",isShow:!!t.employmentTypes.length,children:t.employmentTypes.map(o=>a.createElement(k,{...v,key:o,label:o,onDelete:()=>n(o)}))}),e.jsx(E,{label:"Experience:",isShow:t.experience!=="all",children:e.jsx(k,{...v,label:t.experience,onDelete:c})}),e.jsx(E,{label:"Roles:",isShow:!!t.roles.length,children:t.roles.map(o=>a.createElement(k,{...v,key:o,label:o,onDelete:()=>p(o)}))}),e.jsx(E,{label:"Locations:",isShow:!!t.locations.length,children:t.locations.map(o=>a.createElement(k,{...v,key:o,label:o,onDelete:()=>f(o)}))}),e.jsx(E,{label:"Benefits:",isShow:!!t.benefits.length,children:t.benefits.map(o=>a.createElement(k,{...v,key:o,label:o,onDelete:()=>g(o)}))})]})}function Je(){const s=xe(),[m,i]=a.useState("latest"),t=me({roles:[],locations:[],benefits:[],experience:"all",employmentTypes:[]}),{state:r}=t,d=Ne({inputData:H,filters:r,sortBy:m}),n=r.roles.length>0||r.locations.length>0||r.benefits.length>0||r.employmentTypes.length>0||r.experience!=="all",c=!d.length&&n,p=a.useCallback(o=>{i(o)},[]),f=()=>e.jsxs(b,{sx:{gap:3,display:"flex",justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-end",sm:"center"}},children:[e.jsx(Le,{redirectPath:o=>S.dashboard.job.details(o)}),e.jsxs(b,{sx:{gap:1,flexShrink:0,display:"flex"},children:[e.jsx(Be,{filters:t,canReset:n,open:s.value,onOpen:s.onTrue,onClose:s.onFalse,options:{roles:je,benefits:ye.map(o=>o.label),employmentTypes:be.map(o=>o.label),experiences:["all",...fe.map(o=>o.label)]}}),e.jsx(Oe,{sort:m,onSort:p,sortOptions:ge})]})]}),g=()=>e.jsx(Ae,{filters:t,totalResults:d.length});return e.jsxs(he,{children:[e.jsx(ue,{heading:"List",links:[{name:"Dashboard",href:S.dashboard.root},{name:"Job",href:S.dashboard.job.root},{name:"List"}],action:e.jsx(J,{component:F,href:S.dashboard.job.new,variant:"contained",startIcon:e.jsx(u,{icon:"mingcute:add-line"}),children:"New job"}),sx:{mb:{xs:3,md:5}}}),e.jsxs(Y,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[f(),n&&g()]}),c&&e.jsx(ke,{filled:!0,sx:{py:10}}),e.jsx(Ie,{jobs:d})]})}function Ne({inputData:s,filters:m,sortBy:i}){const{employmentTypes:t,experience:r,roles:d,locations:n,benefits:c}=m;return i==="latest"&&(s=B(s,["createdAt"],["desc"])),i==="oldest"&&(s=B(s,["createdAt"],["asc"])),i==="popular"&&(s=B(s,["totalViews"],["desc"])),t.length&&(s=s.filter(p=>p.employmentTypes.some(f=>t.includes(f)))),r!=="all"&&(s=s.filter(p=>p.experience===r)),d.length&&(s=s.filter(p=>d.includes(p.role))),n.length&&(s=s.filter(p=>p.locations.some(f=>n.includes(f)))),c.length&&(s=s.filter(p=>p.benefits.some(f=>c.includes(f)))),s}const We={title:`Job list | Dashboard - ${Ce.appName}`};function fs(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:We.title}),e.jsx(Je,{})]})}export{fs as default};
