import{cq as F,j as s,aX as P,B as j,I as l,L as D,T as k,Z as z,dQ as T,ct as E,cu as g,g as d,dr as N,M as p,b5 as W,Y as _,bG as $,O as v,z as w,bI as S,G as t,D as B,cv as q,dz as H,V as Y,fD as Q,fE as U,fF as V,fG as X,x as Z}from"./index-usks_mw-.js";import{a as J,b as K,c as ss}from"./new-password-icon-CJgNok0b.js";import{A as es}from"./address-new-form-_g4bz3B1.js";import{A as rs}from"./address-list-dialog-D5ZLDsWw.js";import{S as A}from"./Stack-CgODRvvD.js";import{P as ns}from"./payment-new-card-form-BrTBKxOh.js";import{D as is}from"./DialogTitle-B2IaybZq.js";import{D as os}from"./DialogContent-hfRIofTz.js";import{D as ts}from"./DialogActions-tMlZhSgp.js";import{d as as}from"./format-number-1JRP8vfz.js";import{A as ls}from"./address-item-C-tjar81.js";import"./account-change-password-BIaaQt-o.js";import"./styles-CfUPITlh.js";import"./code-highlight-block-BPaUgu3R.js";import"./preview-single-file-BDCIPO5I.js";import"./zod-RlOVw4MX.js";import"./fields-C0p86-nh.js";import"./Rating-D7Aom_ED.js";import"./editor-Dgj6bP_R.js";import"./FormGroup-BcIuZYAH.js";import"./FormControlLabel-4BKoF0oU.js";import"./index-BZxbeKDV.js";import"./index-Chjiymov.js";import"./Checkbox-CXJQ1e9t.js";import"./upload-D-BZQNpO.js";import"./index-D7BwrrXM.js";import"./image-CI7Up_jg.js";import"./DatePicker-bZIT4znD.js";import"./schema-helper-nSaw4j_a.js";import"./form-provider-BBryKxXX.js";import"./dialogTitleClasses-ArRuUPNv.js";function L({card:i,sx:r,...o}){const e=F(),a=()=>s.jsx(T,{open:e.open,anchorEl:e.anchorEl,onClose:e.onClose,children:s.jsxs(E,{children:[s.jsxs(g,{onClick:e.onClose,children:[s.jsx(l,{icon:"eva:star-fill"}),"Set as primary"]}),s.jsxs(g,{onClick:e.onClose,children:[s.jsx(l,{icon:"solar:pen-bold"}),"Edit"]}),s.jsxs(g,{onClick:e.onClose,sx:{color:"error.main"},children:[s.jsx(l,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})});return s.jsxs(s.Fragment,{children:[s.jsxs(P,{variant:"outlined",sx:[{p:2.5,width:1,position:"relative"},...Array.isArray(r)?r:[r]],...o,children:[s.jsxs(j,{sx:{mb:1,gap:1,display:"flex",alignItems:"center"},children:[i.cardType==="visa"&&s.jsx(l,{icon:"payments:visa",width:40,height:"auto"}),i.cardType==="mastercard"&&s.jsx(l,{icon:"payments:mastercard",width:40,height:"auto"}),i.primary&&s.jsx(D,{color:"info",children:"Default"})]}),s.jsx(k,{variant:"subtitle2",children:i.cardNumber}),s.jsx(z,{onClick:e.onOpen,sx:{top:8,right:8,position:"absolute"},children:s.jsx(l,{icon:"eva:more-vertical-fill"})})]}),a()]})}function cs({open:i,list:r,onClose:o,selected:e,onSelect:a}){const[y,f]=d.useState(""),m=ds({inputData:r,query:y}),b=!m.length&&!!y,h=d.useCallback(u=>{f(u.target.value)},[]),x=d.useCallback(u=>{a(u),f(""),o()},[o,a]),c=()=>s.jsx(A,{spacing:2.5,sx:{p:3},children:m.map(u=>s.jsx(L,{card:u,onClick:()=>x(u),sx:[I=>({cursor:"pointer",...e(u.id)&&{boxShadow:`0 0 0 2px ${I.vars.palette.text.primary}`}})]},u.id))});return s.jsxs(N,{fullWidth:!0,maxWidth:"xs",open:i,onClose:o,children:[s.jsxs(j,{sx:{p:3,pr:1.5,display:"flex",alignItems:"center"},children:[s.jsx(k,{variant:"h6",sx:{flexGrow:1},children:"Cards"}),s.jsx(p,{size:"small",startIcon:s.jsx(l,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})]}),s.jsx(A,{sx:{px:3},children:s.jsx(W,{value:y,onChange:h,placeholder:"Search...",slotProps:{input:{startAdornment:s.jsx(_,{position:"start",children:s.jsx(l,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}})}),b?s.jsx($,{query:y,sx:{px:3,pt:5,pb:10}}):c()]})}function ds({inputData:i,query:r}){return r?i.filter(({cardNumber:o})=>[o].some(e=>e==null?void 0:e.toLowerCase().includes(r.toLowerCase()))):i}function xs({cardList:i,addressBook:r,plans:o}){const e=v(),a=v(),y=i.find(n=>n.primary)||null,f=r.find(n=>n.primary)||null,[m,b]=d.useState(""),[h,x]=d.useState(y),[c,u]=d.useState(f),I=d.useCallback(n=>{const C=o.find(O=>O.primary);(C==null?void 0:C.subscription)!==n&&b(n)},[o]),G=d.useCallback(n=>{u(n)},[]),M=d.useCallback(n=>{x(n)},[]),R=()=>o.map(n=>s.jsx(t,{size:{xs:12,md:4},children:s.jsxs(P,{variant:"outlined",onClick:()=>I(n.subscription),sx:[C=>({p:2.5,borderRadius:1.5,cursor:"pointer",position:"relative",...n.primary&&{opacity:.48,cursor:"default"},...n.subscription===m&&{boxShadow:`0 0 0 2px ${C.vars.palette.text.primary}`}})],children:[n.primary&&s.jsx(D,{color:"info",startIcon:s.jsx(l,{icon:"eva:star-fill"}),sx:{position:"absolute",top:8,right:8},children:"Current"}),n.subscription==="basic"&&s.jsx(J,{}),n.subscription==="starter"&&s.jsx(K,{}),n.subscription==="premium"&&s.jsx(ss,{}),s.jsx(j,{sx:{typography:"subtitle2",mt:2,mb:.5,textTransform:"capitalize"},children:n.subscription}),s.jsxs(j,{sx:{display:"flex",typography:"h4",alignItems:"center"},children:[n.price||"Free",!!n.price&&s.jsx(j,{component:"span",sx:{typography:"body2",color:"text.disabled",ml:.5},children:"/mo"})]})]})},n.subscription));return s.jsxs(s.Fragment,{children:[s.jsxs(w,{children:[s.jsx(S,{title:"Plan"}),s.jsx(t,{container:!0,spacing:2,sx:{p:3},children:R()}),s.jsxs(A,{spacing:2,sx:{p:3,pt:0,typography:"body2"},children:[s.jsxs(t,{container:!0,spacing:{xs:.5,md:2},children:[s.jsx(t,{sx:{color:"text.secondary"},size:{xs:12,md:4},children:"Plan"}),s.jsx(t,{sx:{typography:"subtitle2",textTransform:"capitalize"},size:{xs:12,md:8},children:m||"-"})]}),s.jsxs(t,{container:!0,spacing:{xs:.5,md:2},children:[s.jsx(t,{sx:{color:"text.secondary"},size:{xs:12,md:4},children:"Billing name"}),s.jsx(t,{size:{xs:12,md:8},children:s.jsx(p,{onClick:e.onTrue,endIcon:s.jsx(l,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:c==null?void 0:c.name})})]}),s.jsxs(t,{container:!0,spacing:{xs:.5,md:2},children:[s.jsx(t,{sx:{color:"text.secondary"},size:{xs:12,md:4},children:"Billing address"}),s.jsx(t,{sx:{color:"text.secondary"},size:{xs:12,md:8},children:c==null?void 0:c.fullAddress})]}),s.jsxs(t,{container:!0,spacing:{xs:.5,md:2},children:[s.jsx(t,{sx:{color:"text.secondary"},size:{xs:12,md:4},children:"Billing phone number"}),s.jsx(t,{sx:{color:"text.secondary"},size:{xs:12,md:8},children:c==null?void 0:c.phoneNumber})]}),s.jsxs(t,{container:!0,spacing:{xs:.5,md:2},children:[s.jsx(t,{sx:{color:"text.secondary"},size:{xs:12,md:4},children:"Payment method"}),s.jsx(t,{size:{xs:12,md:8},children:s.jsx(p,{onClick:a.onTrue,endIcon:s.jsx(l,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:h==null?void 0:h.cardNumber})})]})]}),s.jsx(B,{sx:{borderStyle:"dashed"}}),s.jsxs(j,{sx:{p:3,gap:1.5,display:"flex",justifyContent:"flex-end"},children:[s.jsx(p,{variant:"outlined",children:"Cancel plan"}),s.jsx(p,{variant:"contained",children:"Upgrade plan"})]})]}),s.jsx(cs,{list:i,open:a.value,onClose:a.onFalse,selected:n=>(h==null?void 0:h.id)===n,onSelect:M}),s.jsx(rs,{list:r,open:e.value,onClose:e.onFalse,selected:n=>(c==null?void 0:c.id)===n,onSelect:G,action:s.jsx(p,{size:"small",startIcon:s.jsx(l,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})})]})}function ps({cards:i,sx:r,...o}){const e=v();return s.jsxs(s.Fragment,{children:[s.jsxs(w,{sx:[{my:3},...Array.isArray(r)?r:[r]],...o,children:[s.jsx(S,{title:"Payment method",action:s.jsx(p,{size:"small",color:"primary",startIcon:s.jsx(l,{icon:"mingcute:add-line"}),onClick:e.onTrue,children:"New card"})}),s.jsx(j,{sx:{p:3,rowGap:2.5,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"}},children:i.map(a=>s.jsx(L,{card:a},a.id))})]}),s.jsxs(N,{fullWidth:!0,maxWidth:"xs",open:e.value,onClose:e.onFalse,children:[s.jsx(is,{children:" Add new card "}),s.jsx(os,{sx:{overflow:"unset"},children:s.jsx(ns,{})}),s.jsxs(ts,{children:[s.jsx(p,{color:"inherit",variant:"outlined",onClick:e.onFalse,children:"Cancel"}),s.jsx(p,{color:"inherit",variant:"contained",onClick:e.onFalse,children:"Add"})]})]})]})}function ms({invoices:i,sx:r,...o}){const e=v();return s.jsxs(w,{sx:r,...o,children:[s.jsx(S,{title:"Invoice history"}),s.jsxs(j,{sx:{px:3,pt:3,gap:1.5,display:"flex",flexDirection:"column"},children:[(e.value?i:i.slice(0,8)).map(a=>s.jsxs(j,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(q,{primary:a.invoiceNumber,secondary:H(a.createdAt),slotProps:{primary:{sx:{typography:"body2"}},secondary:{sx:{mt:.5,typography:"caption",color:"text.disabled"}}}}),s.jsx(k,{variant:"body2",sx:{mr:5},children:as(a.price)}),s.jsx(Y,{color:"inherit",underline:"always",variant:"body2",href:"#",children:"PDF"})]},a.id)),s.jsx(B,{sx:{borderStyle:"dashed"}})]}),s.jsx(j,{sx:{p:2},children:s.jsxs(p,{size:"small",color:"inherit",startIcon:s.jsx(l,{width:16,icon:e.value?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{mr:-.5}}),onClick:e.onToggle,children:["Show ",e.value?"less":"more"]})})]})}function hs({addressBook:i}){const r=F(),o=v(),[e,a]=d.useState(""),y=d.useCallback(x=>{console.info("ADDRESS",x)},[]),f=d.useCallback((x,c)=>{r.onOpen(x),a(c)},[r]),m=d.useCallback(()=>{r.onClose(),a("")},[r]),b=()=>s.jsx(T,{open:r.open,anchorEl:r.anchorEl,onClose:m,children:s.jsxs(E,{children:[s.jsxs(g,{onClick:()=>{m(),console.info("SET AS PRIMARY",e)},children:[s.jsx(l,{icon:"eva:star-fill"}),"Set as primary"]}),s.jsxs(g,{onClick:()=>{m(),console.info("EDIT",e)},children:[s.jsx(l,{icon:"solar:pen-bold"}),"Edit"]}),s.jsxs(g,{onClick:()=>{m(),console.info("DELETE",e)},sx:{color:"error.main"},children:[s.jsx(l,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),h=()=>s.jsx(es,{open:o.value,onClose:o.onFalse,onCreate:y});return s.jsxs(s.Fragment,{children:[s.jsxs(w,{children:[s.jsx(S,{title:"Address book",action:s.jsx(p,{size:"small",color:"primary",startIcon:s.jsx(l,{icon:"mingcute:add-line"}),onClick:o.onTrue,children:"Address"})}),s.jsx(A,{spacing:2.5,sx:{p:3},children:i.map(x=>s.jsx(ls,{variant:"outlined",address:x,action:s.jsx(z,{onClick:c=>{f(c,`${x.id}`)},sx:{position:"absolute",top:8,right:8},children:s.jsx(l,{icon:"eva:more-vertical-fill"})}),sx:{p:2.5,borderRadius:1}},x.id))})]}),b(),h()]})}function us({cards:i,plans:r,invoices:o,addressBook:e}){return s.jsxs(t,{container:!0,spacing:5,children:[s.jsxs(t,{size:{xs:12,md:8},children:[s.jsx(xs,{plans:r,cardList:i,addressBook:e}),s.jsx(ps,{cards:i}),s.jsx(hs,{addressBook:e})]}),s.jsx(t,{size:{xs:12,md:4},children:s.jsx(ms,{invoices:o})})]})}function js(){return s.jsx(us,{plans:X,cards:V,invoices:U,addressBook:Q})}const ys={title:`Account billing settings | Dashboard - ${Z.appName}`};function Vs(){return s.jsxs(s.Fragment,{children:[s.jsx("title",{children:ys.title}),s.jsx(js,{})]})}export{Vs as default};
