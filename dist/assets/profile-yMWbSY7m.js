import{g as p,j as e,t as h,T as y,B as l,bI as I,V as m,I as i,dz as A,N as g,ei as T,A as j,eS as M,aT as _,c9 as $,E as v,U as E,G as w,D as W,dx as G,F as N,cv as P,b1 as O,bG as V,cq as q,dQ as J,ct as Q,cu as S,bs as K,ax as X,eh as Y,dJ as Z,O as L,ft as F,cI as ee,cH as se,R as re,fu as ae,fv as te,fw as ie,fx as ne,o as le}from"./index-BPi-lj99.js";import"./user-quick-edit-form-BKv-R0-Q.js";import"./empty-content-9ilj_6E5.js";import"./filters-result-uhHU2u14.js";import{c as oe,e as U}from"./format-number-bPxp5Hz3.js";import{I as z}from"./image-31DAP9Wr.js";import{F as ce}from"./FormControlLabel-CR_hDGs6.js";import{C as de}from"./Checkbox-Cb0hcSDN.js";import{A as xe}from"./AvatarGroup-B6qpr1FO.js";import{S as f}from"./Stack-qxGgU9sa.js";import{F as D}from"./Fab-CnK4L7mS.js";import{u as pe,L as he}from"./use-light-box-pc4W2oJf.js";import"./zod-B_WTTuJ9.js";import"./styles-BkVqaM-o.js";import"./fields-C_OA-jBI.js";import"./Rating-Bkwu4u_e.js";import"./editor-BHaBjMrK.js";import"./code-highlight-block-CqLMdGe8.js";import"./FormGroup-CwCuTxF6.js";import"./index-BSK_tT2J.js";import"./index-Chjiymov.js";import"./upload-BlD-M9M6.js";import"./index-DpGkvVRP.js";import"./preview-single-file-CNraPjvt.js";import"./DatePicker-CUx5CUAj.js";import"./DialogActions-D-kuG3ww.js";import"./DialogContent-31eqGF97.js";import"./dialogTitleClasses-pRzgyf3x.js";import"./schema-helper-zXJyfLbR.js";import"./form-provider-BxIa1T6o.js";import"./DialogTitle-B2Gb2OYZ.js";function me({post:s}){const{user:r}=T(),t=p.useRef(null),a=p.useRef(null),[d,n]=p.useState(""),x=p.useCallback(c=>{n(c.target.value)},[]),u=p.useCallback(()=>{a.current&&a.current.click()},[]),o=p.useCallback(()=>{t.current&&t.current.focus()},[]),b=()=>{var c;return e.jsx(I,{disableTypography:!0,avatar:e.jsx(j,{src:r==null?void 0:r.photoURL,alt:r==null?void 0:r.displayName,children:(c=r==null?void 0:r.displayName)==null?void 0:c.charAt(0).toUpperCase()}),title:e.jsx(g,{color:"inherit",variant:"subtitle1",children:r==null?void 0:r.displayName}),subheader:e.jsx(l,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:A(s.createdAt)}),action:e.jsx(m,{children:e.jsx(i,{icon:"eva:more-vertical-fill"})})})},k=()=>e.jsx(f,{spacing:1.5,sx:{px:3,pb:2},children:s.comments.map(c=>e.jsxs(l,{sx:{gap:2,display:"flex"},children:[e.jsx(j,{alt:c.author.name,src:c.author.avatarUrl}),e.jsxs(_,{sx:{p:1.5,flexGrow:1,bgcolor:"background.neutral"},children:[e.jsxs(l,{sx:{mb:.5,display:"flex",alignItems:{sm:"center"},justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(l,{sx:{typography:"subtitle2"},children:c.author.name}),e.jsx(l,{sx:{typography:"caption",color:"text.disabled"},children:A(c.createdAt)})]}),e.jsx(l,{sx:{typography:"body2",color:"text.secondary"},children:c.message})]})]},c.id))}),B=()=>{var c;return e.jsxs(l,{sx:[C=>({gap:2,display:"flex",alignItems:"center",p:C.spacing(0,3,3,3)})],children:[e.jsx(j,{src:r==null?void 0:r.photoURL,alt:r==null?void 0:r.displayName,children:(c=r==null?void 0:r.displayName)==null?void 0:c.charAt(0).toUpperCase()}),e.jsx($,{fullWidth:!0,value:d,inputRef:t,placeholder:"Write a comment…",onChange:x,endAdornment:e.jsxs(E,{position:"end",sx:{mr:1},children:[e.jsx(m,{size:"small",onClick:u,children:e.jsx(i,{icon:"solar:gallery-add-bold"})}),e.jsx(m,{size:"small",children:e.jsx(i,{icon:"eva:smiling-face-fill"})})]}),inputProps:{id:`comment-${s.id}-input`,"aria-label":`Comment ${s.id} input`},sx:[C=>({pl:1.5,height:40,borderRadius:1,border:`solid 1px ${v(C.vars.palette.grey["500Channel"],.32)}`})]}),e.jsx("input",{type:"file",ref:a,style:{display:"none"}})]})},H=()=>e.jsxs(l,{sx:[c=>({display:"flex",alignItems:"center",p:c.spacing(2,3,3,3)})],children:[e.jsx(ce,{control:e.jsx(de,{defaultChecked:!0,color:"error",icon:e.jsx(i,{icon:"solar:heart-bold"}),checkedIcon:e.jsx(i,{icon:"solar:heart-bold"}),slotProps:{input:{id:`favorite-${s.id}-checkbox`,"aria-label":`Favorite ${s.id} checkbox`}}}),label:oe(s.personLikes.length),sx:{mr:1}}),!!s.personLikes.length&&e.jsx(xe,{sx:{[`& .${M.avatar}`]:{width:32,height:32}},children:s.personLikes.map(c=>e.jsx(j,{alt:c.name,src:c.avatarUrl},c.name))}),e.jsx(l,{sx:{flexGrow:1}}),e.jsx(m,{onClick:o,children:e.jsx(i,{icon:"solar:chat-round-dots-bold"})}),e.jsx(m,{children:e.jsx(i,{icon:"solar:share-bold"})})]});return e.jsxs(h,{children:[b(),e.jsx(y,{variant:"body2",sx:[c=>({p:c.spacing(3,3,2,3)})],children:s.message}),e.jsx(l,{sx:{p:1},children:e.jsx(z,{alt:s.media,src:s.media,ratio:"16/9",sx:{borderRadius:1.5}})}),H(),!!s.comments.length&&k(),B()]})}function ue({info:s,posts:r}){const t=p.useRef(null),a=()=>{t.current&&t.current.click()},d=()=>e.jsx(h,{sx:{py:3,textAlign:"center",typography:"h4"},children:e.jsxs(f,{divider:e.jsx(W,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{flexDirection:"row"},children:[e.jsxs(f,{sx:{width:1},children:[U(s.totalFollowers),e.jsx(l,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"Follower"})]}),e.jsxs(f,{sx:{width:1},children:[U(s.totalFollowing),e.jsx(l,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"Following"})]})]})}),n=()=>e.jsxs(h,{children:[e.jsx(I,{title:"About"}),e.jsxs(l,{sx:{p:3,gap:2,display:"flex",typography:"body2",flexDirection:"column"},children:[e.jsx("div",{children:s.quote}),e.jsxs(l,{sx:{gap:2,display:"flex",lineHeight:"24px"},children:[e.jsx(i,{width:24,icon:"mingcute:location-fill"}),e.jsxs("span",{children:["Live at",e.jsxs(g,{variant:"subtitle2",color:"inherit",children:[" ",s.country]})]})]}),e.jsxs(l,{sx:{gap:2,display:"flex",lineHeight:"24px"},children:[e.jsx(i,{width:24,icon:"solar:letter-bold"}),s.email]}),e.jsxs(l,{sx:{gap:2,display:"flex",lineHeight:"24px"},children:[e.jsx(i,{width:24,icon:"solar:case-minimalistic-bold"}),e.jsxs("span",{children:[s.role," at",e.jsxs(g,{variant:"subtitle2",color:"inherit",children:[" ",s.company]})]})]}),e.jsxs(l,{sx:{gap:2,display:"flex",lineHeight:"24px"},children:[e.jsx(i,{width:24,icon:"solar:case-minimalistic-bold"}),e.jsxs("span",{children:["Studied at",e.jsxs(g,{variant:"subtitle2",color:"inherit",children:[" ",s.school]})]})]})]})]}),x=()=>e.jsxs(h,{sx:{p:3},children:[e.jsx($,{multiline:!0,fullWidth:!0,rows:4,placeholder:"Share what you are thinking here...",inputProps:{id:"post-input"},sx:[o=>({p:2,mb:3,borderRadius:1,border:`solid 1px ${v(o.vars.palette.grey["500Channel"],.2)}`})]}),e.jsxs(l,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(l,{sx:{gap:1,display:"flex",alignItems:"center",color:"text.secondary"},children:[e.jsxs(D,{size:"small",color:"inherit",variant:"softExtended",onClick:a,children:[e.jsx(i,{icon:"solar:gallery-wide-bold",width:24,sx:{color:"success.main"}}),"Image/Video"]}),e.jsxs(D,{size:"small",color:"inherit",variant:"softExtended",children:[e.jsx(i,{icon:"solar:videocamera-record-bold",width:24,sx:{color:"error.main"}}),"Streaming"]})]}),e.jsx(N,{variant:"contained",children:"Post"})]}),e.jsx("input",{ref:t,type:"file",style:{display:"none"}})]}),u=()=>e.jsxs(h,{children:[e.jsx(I,{title:"Social"}),e.jsx(l,{sx:{p:3,gap:2,display:"flex",flexDirection:"column",typography:"body2"},children:G.map(o=>e.jsxs(l,{sx:{gap:2,display:"flex",lineHeight:"20px",wordBreak:"break-all",alignItems:"flex-start"},children:[o.value==="twitter"&&e.jsx(i,{icon:"socials:twitter"}),o.value==="facebook"&&e.jsx(i,{icon:"socials:facebook"}),o.value==="instagram"&&e.jsx(i,{icon:"socials:instagram"}),o.value==="linkedin"&&e.jsx(i,{icon:"socials:linkedin"}),e.jsxs(g,{color:"inherit",children:[o.value==="facebook"&&s.socialLinks.facebook,o.value==="instagram"&&s.socialLinks.instagram,o.value==="linkedin"&&s.socialLinks.linkedin,o.value==="twitter"&&s.socialLinks.twitter]})]},o.label))})]});return e.jsxs(w,{container:!0,spacing:3,children:[e.jsxs(w,{size:{xs:12,md:4},sx:{gap:3,display:"flex",flexDirection:"column"},children:[d(),n(),u()]}),e.jsxs(w,{size:{xs:12,md:8},sx:{gap:3,display:"flex",flexDirection:"column"},children:[x(),r.map(o=>e.jsx(me,{post:o},o.id))]})]})}function je({sx:s,name:r,role:t,coverUrl:a,avatarUrl:d,...n}){return e.jsx(l,{sx:[x=>({...x.mixins.bgGradient({images:[`linear-gradient(0deg, ${v(x.vars.palette.primary.darkerChannel,.8)}, ${v(x.vars.palette.primary.darkerChannel,.8)})`,`url(${a})`]}),height:1,color:"common.white"}),...Array.isArray(s)?s:[s]],...n,children:e.jsxs(l,{sx:{display:"flex",left:{md:24},bottom:{md:24},zIndex:{md:10},pt:{xs:6,md:0},position:{md:"absolute"},flexDirection:{xs:"column",md:"row"}},children:[e.jsx(j,{alt:r,src:d,sx:[x=>({mx:"auto",width:{xs:64,md:128},height:{xs:64,md:128},border:`solid 2px ${x.vars.palette.common.white}`})],children:r==null?void 0:r.charAt(0).toUpperCase()}),e.jsx(P,{primary:r,secondary:t,slotProps:{primary:{sx:{typography:"h4"}},secondary:{sx:{mt:.5,opacity:.48,color:"inherit"}}},sx:{mt:3,ml:{md:3},textAlign:{xs:"center",md:"unset"}}})]})})}function ge({friends:s,searchFriends:r,onSearchFriends:t}){const a=be({inputData:s,query:r}),d=!a.length&&!!r;return e.jsxs(e.Fragment,{children:[e.jsxs(l,{sx:{my:5,gap:2,display:"flex",justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(y,{variant:"h4",children:"Friends"}),e.jsx(O,{value:r,onChange:t,placeholder:"Search friends...",slotProps:{input:{startAdornment:e.jsx(E,{position:"start",children:e.jsx(i,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}},sx:{width:{xs:1,sm:260}}})]}),d?e.jsx(V,{query:r,sx:{py:10}}):e.jsx(l,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},children:a.map(n=>e.jsx(ye,{item:n},n.id))})]})}function ye({item:s}){const r=q(),t=()=>{r.onClose(),console.info("DELETE",s.name)},a=()=>{r.onClose(),console.info("EDIT",s.name)},d=()=>e.jsx(J,{open:r.open,anchorEl:r.anchorEl,onClose:r.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(Q,{children:[e.jsxs(S,{onClick:t,sx:{color:"error.main"},children:[e.jsx(i,{icon:"solar:trash-bin-trash-bold"}),"Delete"]}),e.jsxs(S,{onClick:a,children:[e.jsx(i,{icon:"solar:pen-bold"}),"Edit"]})]})});return e.jsxs(e.Fragment,{children:[e.jsxs(h,{sx:{py:5,display:"flex",position:"relative",alignItems:"center",flexDirection:"column"},children:[e.jsx(j,{alt:s.name,src:s.avatarUrl,sx:{width:64,height:64,mb:3}}),e.jsx(g,{variant:"subtitle1",color:"text.primary",children:s.name}),e.jsx(y,{variant:"body2",sx:{color:"text.secondary",mb:1,mt:.5},children:s.role}),e.jsx(l,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:G.map(n=>e.jsxs(m,{children:[n.value==="twitter"&&e.jsx(i,{icon:"socials:twitter"}),n.value==="facebook"&&e.jsx(i,{icon:"socials:facebook"}),n.value==="instagram"&&e.jsx(i,{icon:"socials:instagram"}),n.value==="linkedin"&&e.jsx(i,{icon:"socials:linkedin"})]},n.label))}),e.jsx(m,{color:r.open?"inherit":"default",onClick:r.onOpen,sx:{top:8,right:8,position:"absolute"},children:e.jsx(i,{icon:"eva:more-vertical-fill"})})]}),d()]})}function be({inputData:s,query:r}){return r?s.filter(({name:t,role:a})=>[t,a].some(d=>d==null?void 0:d.toLowerCase().includes(r.toLowerCase()))):s}function fe({gallery:s}){const r=s.map(a=>({src:a.imageUrl})),t=pe(r);return e.jsxs(e.Fragment,{children:[e.jsx(y,{variant:"h4",sx:{my:5},children:"Gallery"}),e.jsx(l,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},children:s.map(a=>e.jsxs(h,{sx:{cursor:"pointer",color:"common.white"},children:[e.jsx(m,{color:"inherit",sx:{top:8,right:8,zIndex:9,position:"absolute"},children:e.jsx(i,{icon:"eva:more-vertical-fill"})}),e.jsx(P,{sx:{p:3,left:0,width:1,bottom:0,zIndex:9,position:"absolute"},primary:a.title,secondary:A(a.postedAt),slotProps:{primary:{noWrap:!0,sx:{typography:"subtitle1"}},secondary:{sx:{mt:.5,opacity:.48,color:"inherit"}}}}),e.jsx(z,{alt:"Gallery",ratio:"1/1",src:a.imageUrl,onClick:()=>t.onOpen(a.imageUrl),slotProps:{overlay:{sx:d=>({backgroundImage:`linear-gradient(to bottom, transparent 0%, ${d.vars.palette.common.black} 75%)`})}}})]},a.id))}),e.jsx(he,{index:t.selected,slides:r,open:t.open,close:t.onClose})]})}function ve({followers:s}){const r=s.slice(4,8).map(n=>n.id),[t,a]=p.useState(r),d=p.useCallback(n=>{const x=t.includes(n)?t.filter(u=>u!==n):[...t,n];a(x)},[t]);return e.jsxs(e.Fragment,{children:[e.jsx(y,{variant:"h4",sx:{my:5},children:"Followers"}),e.jsx(l,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},children:s.map(n=>e.jsx(ke,{follower:n,selected:t.includes(n.id),onSelected:()=>d(n.id)},n.id))})]})}function ke({follower:s,selected:r,onSelected:t,sx:a,...d}){return e.jsxs(h,{sx:[n=>({display:"flex",alignItems:"center",p:n.spacing(3,2,3,3)}),...Array.isArray(a)?a:[a]],...d,children:[e.jsx(j,{alt:s==null?void 0:s.name,src:s==null?void 0:s.avatarUrl,sx:{width:48,height:48,mr:2}}),e.jsx(P,{primary:s==null?void 0:s.name,secondary:e.jsxs(e.Fragment,{children:[e.jsx(i,{icon:"mingcute:location-fill",width:16,sx:{flexShrink:0,mr:.5}}),s==null?void 0:s.country]}),slotProps:{primary:{noWrap:!0},secondary:{noWrap:!0,sx:{mt:.5,display:"flex",alignItems:"center",typography:"caption",color:"text.disabled"}}}}),e.jsx(N,{size:"small",variant:r?"text":"outlined",color:r?"success":"inherit",startIcon:r?e.jsx(i,{width:18,icon:"eva:checkmark-fill",sx:{mr:-.75}}):null,onClick:t,sx:{flexShrink:0,ml:1.5},children:r?"Followed":"Follow"})]})}const Ce=[{value:"",label:"Profile",icon:e.jsx(i,{width:24,icon:"solar:user-id-bold"})},{value:"followers",label:"Followers",icon:e.jsx(i,{width:24,icon:"solar:heart-bold"})},{value:"friends",label:"Friends",icon:e.jsx(i,{width:24,icon:"solar:users-group-rounded-bold"})},{value:"gallery",label:"Gallery",icon:e.jsx(i,{width:24,icon:"solar:gallery-wide-bold"})}],R="tab";function we(){const s=K(),t=X().get(R)??"",{user:a}=T(),[d,n]=p.useState(""),x=p.useCallback(o=>{n(o.target.value)},[]),u=(o,b)=>{const k=new URLSearchParams({[R]:b}).toString();return b?`${o}?${k}`:o};return e.jsxs(Y,{children:[e.jsx(Z,{heading:"Profile",links:[{name:"Dashboard",href:L.dashboard.root},{name:"User",href:L.dashboard.user.root},{name:a==null?void 0:a.displayName}],sx:{mb:{xs:3,md:5}}}),e.jsxs(h,{sx:{mb:3,height:290},children:[e.jsx(je,{role:F.role,name:a==null?void 0:a.displayName,avatarUrl:a==null?void 0:a.photoURL,coverUrl:F.coverUrl}),e.jsx(l,{sx:{width:1,bottom:0,zIndex:9,px:{md:3},display:"flex",position:"absolute",bgcolor:"background.paper",justifyContent:{xs:"center",md:"flex-end"}},children:e.jsx(ee,{value:t,children:Ce.map(o=>e.jsx(se,{component:re,value:o.value,icon:o.icon,label:o.label,href:u(s,o.value)},o.value))})})]}),t===""&&e.jsx(ue,{info:F,posts:ae}),t==="followers"&&e.jsx(ve,{followers:te}),t==="friends"&&e.jsx(ge,{friends:ie,searchFriends:d,onSearchFriends:x}),t==="gallery"&&e.jsx(fe,{gallery:ne})]})}const Fe={title:`User profile | Dashboard - ${le.appName}`};function as(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:Fe.title}),e.jsx(we,{})]})}export{as as default};
