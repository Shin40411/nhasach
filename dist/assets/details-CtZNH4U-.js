import{K as S,j as s,B as d,dP as n,V as o,O as u,R as C,I as h,b1 as F,cu as w,dr as N,F as P,g,fs as k,t as A,b6 as O,T as a,dz as f,D as y,dZ as B,eh as W,dJ as E,fm as V,o as G}from"./index-BPi-lj99.js";import{u as L}from"./use-params-317g6tk1.js";import"./empty-content-9ilj_6E5.js";import"./filters-result-uhHU2u14.js";import{I as R,a as q,b as H}from"./invoice-pdf-CEAuSkGt.js";import{d as I}from"./format-number-bPxp5Hz3.js";import{D as _}from"./DialogActions-D-kuG3ww.js";import{S as m}from"./Stack-qxGgU9sa.js";import{a as U,c as $,T as D,b as z}from"./TableHead-BK-FFbhv.js";import{T as l}from"./TableCell-DZiVaiNL.js";import"./zod-B_WTTuJ9.js";import"./styles-BkVqaM-o.js";import"./code-highlight-block-CqLMdGe8.js";import"./preview-single-file-CNraPjvt.js";import"./schema-helper-zXJyfLbR.js";import"./form-provider-BxIa1T6o.js";import"./address-new-form-DF5efcJ0.js";import"./fields-C_OA-jBI.js";import"./Rating-Bkwu4u_e.js";import"./editor-BHaBjMrK.js";import"./FormGroup-CwCuTxF6.js";import"./FormControlLabel-CR_hDGs6.js";import"./index-BSK_tT2J.js";import"./index-Chjiymov.js";import"./Checkbox-Cb0hcSDN.js";import"./upload-BlD-M9M6.js";import"./index-DpGkvVRP.js";import"./image-31DAP9Wr.js";import"./DatePicker-CUx5CUAj.js";import"./DialogContent-31eqGF97.js";import"./dialogTitleClasses-pRzgyf3x.js";import"./DialogTitle-B2Gb2OYZ.js";import"./address-list-dialog-BgNMi6W2.js";import"./sumBy-ofy1HSRF.js";function J({invoice:t,currentStatus:r,statusOptions:x,onChangeStatus:j}){const{value:i,onFalse:b,onTrue:e}=S(),p=()=>t?s.jsx(q,{invoice:t,currentStatus:r}):null,T=()=>s.jsx(N,{fullScreen:!0,open:i,children:s.jsxs(d,{sx:{height:1,display:"flex",flexDirection:"column"},children:[s.jsx(_,{sx:{p:1.5},children:s.jsx(P,{color:"inherit",variant:"contained",onClick:b,children:"Close"})}),s.jsx(d,{sx:{flexGrow:1,height:1,overflow:"hidden"},children:t&&s.jsx(R,{invoice:t,currentStatus:r})})]})});return s.jsxs(s.Fragment,{children:[s.jsxs(d,{sx:{gap:3,display:"flex",mb:{xs:3,md:5},flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-end",sm:"center"}},children:[s.jsxs(d,{sx:{gap:1,width:1,flexGrow:1,display:"flex"},children:[s.jsx(n,{title:"Edit",children:s.jsx(o,{component:C,href:u.dashboard.invoice.edit(`${t==null?void 0:t.id}`),children:s.jsx(h,{icon:"solar:pen-bold"})})}),s.jsx(n,{title:"View",children:s.jsx(o,{onClick:e,children:s.jsx(h,{icon:"solar:eye-bold"})})}),p(),s.jsx(n,{title:"Print",children:s.jsx(o,{children:s.jsx(h,{icon:"solar:printer-minimalistic-bold"})})}),s.jsx(n,{title:"Send",children:s.jsx(o,{children:s.jsx(h,{icon:"custom:send-fill"})})}),s.jsx(n,{title:"Share",children:s.jsx(o,{children:s.jsx(h,{icon:"solar:share-bold"})})})]}),s.jsx(F,{fullWidth:!0,select:!0,label:"Status",value:r,onChange:j,sx:{maxWidth:160},slotProps:{htmlInput:{id:"status-select"},inputLabel:{htmlFor:"status-select"}},children:x.map(c=>s.jsx(w,{value:c.value,children:c.label},c.value))})]}),T()]})}function K({invoice:t}){const[r,x]=g.useState(t==null?void 0:t.status),j=g.useCallback(e=>{x(e.target.value)},[]),i=()=>s.jsxs(d,{sx:{py:3,gap:2,display:"flex",flexWrap:"wrap",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx(a,{variant:"subtitle2",sx:{mb:.5},children:"NOTES"}),s.jsx(a,{variant:"body2",children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),s.jsxs(d,{sx:{flexGrow:{md:1},textAlign:{md:"right"}},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:.5},children:"Have a question?"}),s.jsx(a,{variant:"body2",children:"support@minimals.cc"})]})]}),b=()=>s.jsx(B,{sx:{mt:5},children:s.jsxs(U,{sx:{minWidth:960},children:[s.jsx($,{children:s.jsxs(D,{children:[s.jsx(l,{width:40,children:"#"}),s.jsx(l,{sx:{typography:"subtitle2"},children:"Description"}),s.jsx(l,{children:"Qty"}),s.jsx(l,{align:"right",children:"Unit price"}),s.jsx(l,{align:"right",children:"Total"})]})}),s.jsx(z,{children:t==null?void 0:t.items.map((e,p)=>s.jsxs(D,{children:[s.jsx(l,{children:p+1}),s.jsx(l,{children:s.jsxs(d,{sx:{maxWidth:560},children:[s.jsx(a,{variant:"subtitle2",children:e.title}),s.jsx(a,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:e.description})]})}),s.jsx(l,{children:e.quantity}),s.jsx(l,{align:"right",children:I(e.price)}),s.jsx(l,{align:"right",children:I(e.price*e.quantity)})]},p))})]})});return s.jsxs(s.Fragment,{children:[s.jsx(J,{invoice:t,currentStatus:r||"",onChangeStatus:j,statusOptions:k}),s.jsxs(A,{sx:{pt:5,px:5},children:[s.jsxs(d,{sx:{rowGap:5,display:"grid",alignItems:"center",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[s.jsx(d,{component:"img",alt:"Invoice logo",src:"/logo/logo-single.svg",sx:{width:48,height:48}}),s.jsxs(m,{spacing:1,sx:{alignItems:{xs:"flex-start",md:"flex-end"}},children:[s.jsx(O,{variant:"soft",color:r==="paid"&&"success"||r==="pending"&&"warning"||r==="overdue"&&"error"||"default",children:r}),s.jsx(a,{variant:"h6",children:t==null?void 0:t.invoiceNumber})]}),s.jsxs(m,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Invoice from"}),t==null?void 0:t.invoiceFrom.name,s.jsx("br",{}),t==null?void 0:t.invoiceFrom.fullAddress,s.jsx("br",{}),"Phone: ",t==null?void 0:t.invoiceFrom.phoneNumber,s.jsx("br",{})]}),s.jsxs(m,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Invoice to"}),t==null?void 0:t.invoiceTo.name,s.jsx("br",{}),t==null?void 0:t.invoiceTo.fullAddress,s.jsx("br",{}),"Phone: ",t==null?void 0:t.invoiceTo.phoneNumber,s.jsx("br",{})]}),s.jsxs(m,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Date create"}),f(t==null?void 0:t.createDate)]}),s.jsxs(m,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Due date"}),f(t==null?void 0:t.dueDate)]})]}),b(),s.jsx(y,{sx:{borderStyle:"dashed"}}),s.jsx(H,{taxes:t==null?void 0:t.taxes,subtotal:t==null?void 0:t.subtotal,discount:t==null?void 0:t.discount,shipping:t==null?void 0:t.shipping,totalAmount:t==null?void 0:t.totalAmount}),s.jsx(y,{sx:{mt:5,borderStyle:"dashed"}}),i()]})]})}function M({invoice:t}){return s.jsxs(W,{children:[s.jsx(E,{heading:t==null?void 0:t.invoiceNumber,backHref:u.dashboard.invoice.root,links:[{name:"Dashboard",href:u.dashboard.root},{name:"Invoice",href:u.dashboard.invoice.root},{name:t==null?void 0:t.invoiceNumber}],sx:{mb:3}}),s.jsx(K,{invoice:t})]})}const Q={title:`Invoice details | Dashboard - ${G.appName}`};function ks(){const{id:t=""}=L(),r=V.find(x=>x.id===t);return s.jsxs(s.Fragment,{children:[s.jsx("title",{children:Q.title}),s.jsx(M,{invoice:r})]})}export{ks as default};
