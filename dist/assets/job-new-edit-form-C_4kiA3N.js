import{H as F,K as j,fC as y,dX as L,O as R,j as e,t as f,bI as C,aQ as S,D as E,T as n,fN as A,fO as q,g as o,fP as H,cy as O,fQ as J,B as x,I as u,aT as z,aX as W,U as M,fR as G,cz as K,F as U,V as X}from"./index-BPi-lj99.js";import{s as Q,z as a}from"./zod-B_WTTuJ9.js";import{u as V,C as Y}from"./styles-BkVqaM-o.js";import{F as i}from"./fields-C_OA-jBI.js";import"./preview-single-file-CNraPjvt.js";import"./code-highlight-block-CqLMdGe8.js";import{s as h}from"./schema-helper-zXJyfLbR.js";import{F as $}from"./form-provider-BxIa1T6o.js";import{S as r}from"./Stack-qxGgU9sa.js";import{F as Z}from"./FormControlLabel-CR_hDGs6.js";const ee=a.object({title:a.string().min(1,{message:"Title is required!"}),content:a.string().min(1,{message:"Content is required!"}),employmentTypes:a.string().array().min(1,{message:"Choose at least one option!"}),role:h.nullableInput(a.string().min(1,{message:"Role is required!"}),{message:"Role is required!"}),skills:a.string().array().min(1,{message:"Choose at least one option!"}),workingSchedule:a.string().array().min(1,{message:"Choose at least one option!"}),locations:a.string().array().min(1,{message:"Choose at least one option!"}),expiredDate:h.date({message:{required:"Expired date is required!"}}),salary:a.object({price:h.nullableInput(a.number({coerce:!0}).min(1,{message:"Price is required!"}),{message:"Price is required!"}),type:a.string(),negotiable:a.boolean()}),benefits:a.string().array().min(0,{message:"Choose at least one option!"}),experience:a.string()});function de({currentJob:c}){const T=F(),p=j(!0),d=j(!0),v={title:"",content:"",employmentTypes:[],experience:"1 year exp",role:y[1],skills:[],workingSchedule:[],locations:[],expiredDate:null,salary:{type:"Hourly",price:null,negotiable:!1},benefits:[]},g=V({mode:"all",resolver:Q(ee),defaultValues:v,values:c}),{reset:w,control:k,handleSubmit:P,formState:{isSubmitting:I}}=g,B=P(async s=>{try{await new Promise(t=>setTimeout(t,500)),w(),L.success(c?"Update success!":"Create success!"),T.push(R.dashboard.job.root),console.info("DATA",s)}catch(t){console.error(t)}}),b=(s,t)=>e.jsx(X,{onClick:t,children:e.jsx(u,{icon:s?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill"})}),_=()=>e.jsxs(f,{children:[e.jsx(C,{title:"Details",subheader:"Title, short description, image...",action:b(p.value,p.onToggle),sx:{mb:3}}),e.jsxs(S,{in:p.value,children:[e.jsx(E,{}),e.jsxs(r,{spacing:3,sx:{p:3},children:[e.jsxs(r,{spacing:1.5,children:[e.jsx(n,{variant:"subtitle2",children:"Title"}),e.jsx(i.Text,{name:"title",placeholder:"Ex: Software Engineer..."})]}),e.jsxs(r,{spacing:1.5,children:[e.jsx(n,{variant:"subtitle2",children:"Content"}),e.jsx(i.Editor,{name:"content",sx:{maxHeight:480}})]})]})]})]}),D=()=>e.jsxs(f,{children:[e.jsx(C,{title:"Properties",subheader:"Additional functions and attributes...",action:b(d.value,d.onToggle),sx:{mb:3}}),e.jsxs(S,{in:d.value,children:[e.jsx(E,{}),e.jsxs(r,{spacing:3,sx:{p:3},children:[e.jsxs(r,{spacing:1,children:[e.jsx(n,{variant:"subtitle2",children:"Employment type"}),e.jsx(i.MultiCheckbox,{row:!0,name:"employmentTypes",options:A,sx:{gap:4}})]}),e.jsxs(r,{spacing:1,children:[e.jsx(n,{variant:"subtitle2",children:"Experience"}),e.jsx(i.RadioGroup,{row:!0,name:"experience",options:q,sx:{gap:4}})]}),e.jsxs(r,{spacing:1.5,children:[e.jsx(n,{variant:"subtitle2",children:"Role"}),e.jsx(i.Autocomplete,{name:"role",autoHighlight:!0,options:y.map(s=>s),getOptionLabel:s=>s,renderOption:(s,t)=>o.createElement("li",{...s,key:t},t)})]}),e.jsxs(r,{spacing:1.5,children:[e.jsx(n,{variant:"subtitle2",children:"Skills"}),e.jsx(i.Autocomplete,{name:"skills",placeholder:"+ Skills",multiple:!0,disableCloseOnSelect:!0,options:H.map(s=>s),getOptionLabel:s=>s,renderOption:(s,t)=>o.createElement("li",{...s,key:t},t),renderTags:(s,t)=>s.map((l,m)=>o.createElement(O,{...t({index:m}),key:l,label:l,size:"small",color:"info",variant:"soft"}))})]}),e.jsxs(r,{spacing:1.5,children:[e.jsx(n,{variant:"subtitle2",children:"Working schedule"}),e.jsx(i.Autocomplete,{name:"workingSchedule",placeholder:"+ Schedule",multiple:!0,disableCloseOnSelect:!0,options:J.map(s=>s),getOptionLabel:s=>s,renderOption:(s,t)=>o.createElement("li",{...s,key:t},t),renderTags:(s,t)=>s.map((l,m)=>o.createElement(O,{...t({index:m}),key:l,label:l,size:"small",color:"info",variant:"soft"}))})]}),e.jsxs(r,{spacing:1.5,children:[e.jsx(n,{variant:"subtitle2",children:"Locations"}),e.jsx(i.CountrySelect,{multiple:!0,name:"locations",placeholder:"+ Locations"})]}),e.jsxs(r,{spacing:1.5,children:[e.jsx(n,{variant:"subtitle2",children:"Expired"}),e.jsx(i.DatePicker,{name:"expiredDate"})]}),e.jsxs(r,{spacing:2,children:[e.jsx(n,{variant:"subtitle2",children:"Salary"}),e.jsx(Y,{name:"salary.type",control:k,render:({field:s})=>e.jsx(x,{sx:{gap:2,display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:[{label:"Hourly",icon:e.jsx(u,{icon:"solar:clock-circle-bold",width:32,sx:{mb:2}})},{label:"Custom",icon:e.jsx(u,{icon:"solar:wad-of-money-bold",width:32,sx:{mb:2}})}].map(t=>e.jsxs(z,{component:W,variant:"outlined",onClick:()=>s.onChange(t.label),sx:{p:2.5,borderRadius:1,typography:"subtitle2",flexDirection:"column",...t.label===s.value&&{borderWidth:2,borderColor:"text.primary"}},children:[t.icon,t.label]},t.label))})}),e.jsx(i.Text,{name:"salary.price",placeholder:"0.00",type:"number",slotProps:{input:{startAdornment:e.jsx(M,{position:"start",sx:{mr:.75},children:e.jsx(x,{component:"span",sx:{color:"text.disabled"},children:"$"})})}}}),e.jsx(i.Switch,{name:"salary.negotiable",label:"Salary is negotiable"})]}),e.jsxs(r,{spacing:1,children:[e.jsx(n,{variant:"subtitle2",children:"Benefits"}),e.jsx(i.MultiCheckbox,{name:"benefits",options:G,sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}})]})]})]})]}),N=()=>e.jsxs(x,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[e.jsx(Z,{label:"Publish",control:e.jsx(K,{defaultChecked:!0,slotProps:{input:{id:"publish-switch"}}}),sx:{flexGrow:1,pl:3}}),e.jsx(U,{type:"submit",variant:"contained",size:"large",loading:I,sx:{ml:2},children:c?"Save changes":"Create job"})]});return e.jsx($,{methods:g,onSubmit:B,children:e.jsxs(r,{spacing:{xs:3,md:5},sx:{mx:"auto",maxWidth:{xs:720,xl:880}},children:[_(),D(),N()]})})}export{de as J};
