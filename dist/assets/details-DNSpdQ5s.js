import{O as S,j as s,B as d,dN as n,Z as o,W as u,R as C,I as h,b5 as w,cp as F,dp as N,M as P,g,fs as k,z as A,L as O,T as a,dx as f,D as y,dY as W,eh as B,dH as E,fm as G,x as L}from"./index-D6bpUwKX.js";import{u as V}from"./use-params-3mYV1zXJ.js";import"./empty-content-DB3Nbb7N.js";import"./filters-result-mlfDo3YB.js";import{I as H,a as R,b as q}from"./invoice-pdf-BQFKXpF7.js";import{c as I}from"./format-number-Cj8l_lI8.js";import{D as _}from"./DialogActions-CNc7tTfu.js";import{S as m}from"./Stack-7h-e6yAT.js";import{a as M,c as U,T as D,b as $}from"./TableHead-BR3Xtr2P.js";import{T as l}from"./TableCell-ceTMykc4.js";import"./zod-B5GKHG6E.js";import"./styles-D8b8rnOK.js";import"./code-highlight-block-YQG8K_vY.js";import"./preview-single-file-DAd3oWJu.js";import"./schema-helper-CN5fZ2XK.js";import"./form-provider-BQ6XSOiV.js";import"./address-new-form-DmH_4sLH.js";import"./fields-B53gUzDf.js";import"./Rating-BR8dol5T.js";import"./editor-DYEwp_Gv.js";import"./FormGroup-yYGkv0rT.js";import"./FormControlLabel-BXvztm9I.js";import"./index-DWKsHr_b.js";import"./index-Chjiymov.js";import"./Checkbox-D-eTL2vR.js";import"./upload-Ch5UFSCV.js";import"./index-DGt-RZrN.js";import"./image-FIum-Rwa.js";import"./DatePicker-BUn93AuB.js";import"./DialogContent-Byx-1axF.js";import"./dialogTitleClasses-Bbkpp0St.js";import"./DialogTitle-6_KxcEEQ.js";import"./address-list-dialog-hGEpCB8j.js";import"./sumBy-ofy1HSRF.js";function z({invoice:t,currentStatus:r,statusOptions:x,onChangeStatus:j}){const{value:i,onFalse:b,onTrue:e}=S(),p=()=>t?s.jsx(R,{invoice:t,currentStatus:r}):null,T=()=>s.jsx(N,{fullScreen:!0,open:i,children:s.jsxs(d,{sx:{height:1,display:"flex",flexDirection:"column"},children:[s.jsx(_,{sx:{p:1.5},children:s.jsx(P,{color:"inherit",variant:"contained",onClick:b,children:"Close"})}),s.jsx(d,{sx:{flexGrow:1,height:1,overflow:"hidden"},children:t&&s.jsx(H,{invoice:t,currentStatus:r})})]})});return s.jsxs(s.Fragment,{children:[s.jsxs(d,{sx:{gap:3,display:"flex",mb:{xs:3,md:5},flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-end",sm:"center"}},children:[s.jsxs(d,{sx:{gap:1,width:1,flexGrow:1,display:"flex"},children:[s.jsx(n,{title:"Edit",children:s.jsx(o,{component:C,href:u.dashboard.invoice.edit(`${t==null?void 0:t.id}`),children:s.jsx(h,{icon:"solar:pen-bold"})})}),s.jsx(n,{title:"View",children:s.jsx(o,{onClick:e,children:s.jsx(h,{icon:"solar:eye-bold"})})}),p(),s.jsx(n,{title:"Print",children:s.jsx(o,{children:s.jsx(h,{icon:"solar:printer-minimalistic-bold"})})}),s.jsx(n,{title:"Send",children:s.jsx(o,{children:s.jsx(h,{icon:"custom:send-fill"})})}),s.jsx(n,{title:"Share",children:s.jsx(o,{children:s.jsx(h,{icon:"solar:share-bold"})})})]}),s.jsx(w,{fullWidth:!0,select:!0,label:"Status",value:r,onChange:j,sx:{maxWidth:160},slotProps:{htmlInput:{id:"status-select"},inputLabel:{htmlFor:"status-select"}},children:x.map(c=>s.jsx(F,{value:c.value,children:c.label},c.value))})]}),T()]})}function Q({invoice:t}){const[r,x]=g.useState(t==null?void 0:t.status),j=g.useCallback(e=>{x(e.target.value)},[]),i=()=>s.jsxs(d,{sx:{py:3,gap:2,display:"flex",flexWrap:"wrap",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx(a,{variant:"subtitle2",sx:{mb:.5},children:"NOTES"}),s.jsx(a,{variant:"body2",children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),s.jsxs(d,{sx:{flexGrow:{md:1},textAlign:{md:"right"}},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:.5},children:"Have a question?"}),s.jsx(a,{variant:"body2",children:"support@minimals.cc"})]})]}),b=()=>s.jsx(W,{sx:{mt:5},children:s.jsxs(M,{sx:{minWidth:960},children:[s.jsx(U,{children:s.jsxs(D,{children:[s.jsx(l,{width:40,children:"#"}),s.jsx(l,{sx:{typography:"subtitle2"},children:"Description"}),s.jsx(l,{children:"Qty"}),s.jsx(l,{align:"right",children:"Unit price"}),s.jsx(l,{align:"right",children:"Total"})]})}),s.jsx($,{children:t==null?void 0:t.items.map((e,p)=>s.jsxs(D,{children:[s.jsx(l,{children:p+1}),s.jsx(l,{children:s.jsxs(d,{sx:{maxWidth:560},children:[s.jsx(a,{variant:"subtitle2",children:e.title}),s.jsx(a,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:e.description})]})}),s.jsx(l,{children:e.quantity}),s.jsx(l,{align:"right",children:I(e.price)}),s.jsx(l,{align:"right",children:I(e.price*e.quantity)})]},p))})]})});return s.jsxs(s.Fragment,{children:[s.jsx(z,{invoice:t,currentStatus:r||"",onChangeStatus:j,statusOptions:k}),s.jsxs(A,{sx:{pt:5,px:5},children:[s.jsxs(d,{sx:{rowGap:5,display:"grid",alignItems:"center",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[s.jsx(d,{component:"img",alt:"Invoice logo",src:"/logo/logo-single.svg",sx:{width:48,height:48}}),s.jsxs(m,{spacing:1,sx:{alignItems:{xs:"flex-start",md:"flex-end"}},children:[s.jsx(O,{variant:"soft",color:r==="paid"&&"success"||r==="pending"&&"warning"||r==="overdue"&&"error"||"default",children:r}),s.jsx(a,{variant:"h6",children:t==null?void 0:t.invoiceNumber})]}),s.jsxs(m,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Invoice from"}),t==null?void 0:t.invoiceFrom.name,s.jsx("br",{}),t==null?void 0:t.invoiceFrom.fullAddress,s.jsx("br",{}),"Phone: ",t==null?void 0:t.invoiceFrom.phoneNumber,s.jsx("br",{})]}),s.jsxs(m,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Invoice to"}),t==null?void 0:t.invoiceTo.name,s.jsx("br",{}),t==null?void 0:t.invoiceTo.fullAddress,s.jsx("br",{}),"Phone: ",t==null?void 0:t.invoiceTo.phoneNumber,s.jsx("br",{})]}),s.jsxs(m,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Date create"}),f(t==null?void 0:t.createDate)]}),s.jsxs(m,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Due date"}),f(t==null?void 0:t.dueDate)]})]}),b(),s.jsx(y,{sx:{borderStyle:"dashed"}}),s.jsx(q,{taxes:t==null?void 0:t.taxes,subtotal:t==null?void 0:t.subtotal,discount:t==null?void 0:t.discount,shipping:t==null?void 0:t.shipping,totalAmount:t==null?void 0:t.totalAmount}),s.jsx(y,{sx:{mt:5,borderStyle:"dashed"}}),i()]})]})}function Y({invoice:t}){return s.jsxs(B,{children:[s.jsx(E,{heading:t==null?void 0:t.invoiceNumber,backHref:u.dashboard.invoice.root,links:[{name:"Dashboard",href:u.dashboard.root},{name:"Invoice",href:u.dashboard.invoice.root},{name:t==null?void 0:t.invoiceNumber}],sx:{mb:3}}),s.jsx(Q,{invoice:t})]})}const Z={title:`Invoice details | Dashboard - ${L.appName}`};function ks(){const{id:t=""}=V(),r=G.find(x=>x.id===t);return s.jsxs(s.Fragment,{children:[s.jsx("title",{children:Z.title}),s.jsx(Y,{invoice:r})]})}export{ks as default};
