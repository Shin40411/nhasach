import{N as y,O as S,Q as v,g as F,U as C,j as e,V as j,W as P,R as b,X as w,B as d,Y as E,Z as N,I as k,M as I,_ as D}from"./index-D6bpUwKX.js";import{s as L,z as s}from"./zod-B5GKHG6E.js";import{u as M}from"./styles-D8b8rnOK.js";import{F as i}from"./fields-B53gUzDf.js";import"./preview-single-file-DAd3oWJu.js";import"./code-highlight-block-YQG8K_vY.js";import{F as T}from"./form-provider-BQ6XSOiV.js";import{g as A}from"./error-message-CLFfVbaG.js";import{F as q,S as U}from"./sign-up-terms-SWb_KueS.js";const V=s.object({email:s.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:s.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function Y(){const c=y(),r=S(),{checkUserSession:t}=v(),[n,u]=F.useState(null),o={email:"demo@minimals.cc",password:"@2Minimal"},l=M({resolver:L(V),defaultValues:o}),{handleSubmit:x,formState:{isSubmitting:p}}=l,g=x(async a=>{try{await C({email:a.email,password:a.password}),await(t==null?void 0:t()),c.refresh()}catch(m){console.error(m);const f=A(m);u(f)}}),h=()=>e.jsxs(d,{sx:{gap:3,display:"flex",flexDirection:"column"},children:[e.jsx(i.Text,{name:"email",label:"Email address",slotProps:{inputLabel:{shrink:!0}}}),e.jsxs(d,{sx:{gap:1.5,display:"flex",flexDirection:"column"},children:[e.jsx(j,{component:b,href:"#",variant:"body2",color:"inherit",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),e.jsx(i.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:r.value?"text":"password",slotProps:{inputLabel:{shrink:!0},input:{endAdornment:e.jsx(E,{position:"end",children:e.jsx(N,{onClick:r.onToggle,edge:"end",children:e.jsx(k,{icon:r.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}})]}),e.jsx(I,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:p,loadingIndicator:"Sign in...",children:"Sign in"})]});return e.jsxs(e.Fragment,{children:[e.jsx(q,{title:"Sign in to your account",description:e.jsxs(e.Fragment,{children:["Donâ€™t have an account? ",e.jsx(j,{component:b,href:P.auth.jwt.signUp,variant:"subtitle2",children:"Get started"})]}),sx:{textAlign:{xs:"center",md:"left"}}}),e.jsxs(w,{severity:"info",sx:{mb:3},children:["Use ",e.jsx("strong",{children:o.email})," with password ",e.jsx("strong",{children:o.password})]}),!!n&&e.jsx(w,{severity:"error",sx:{mb:3},children:n}),e.jsx(T,{methods:l,onSubmit:g,children:h()})]})}const B=s.object({firstName:s.string().min(1,{message:"First name is required!"}),lastName:s.string().min(1,{message:"Last name is required!"}),email:s.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:s.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function Z(){const c=y(),r=S(),{checkUserSession:t}=v(),[n,u]=F.useState(null),o={firstName:"Hello",lastName:"Friend",email:"hello@gmail.com",password:"@2Minimal"},l=M({resolver:L(B),defaultValues:o}),{handleSubmit:x,formState:{isSubmitting:p}}=l,g=x(async a=>{try{await D({email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName}),await(t==null?void 0:t()),c.refresh()}catch(m){console.error(m);const f=A(m);u(f)}}),h=()=>e.jsxs(d,{sx:{gap:3,display:"flex",flexDirection:"column"},children:[e.jsxs(d,{sx:{display:"flex",gap:{xs:3,sm:2},flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(i.Text,{name:"firstName",label:"First name",slotProps:{inputLabel:{shrink:!0}}}),e.jsx(i.Text,{name:"lastName",label:"Last name",slotProps:{inputLabel:{shrink:!0}}})]}),e.jsx(i.Text,{name:"email",label:"Email address",slotProps:{inputLabel:{shrink:!0}}}),e.jsx(i.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:r.value?"text":"password",slotProps:{inputLabel:{shrink:!0},input:{endAdornment:e.jsx(E,{position:"end",children:e.jsx(N,{onClick:r.onToggle,edge:"end",children:e.jsx(k,{icon:r.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}}),e.jsx(I,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:p,loadingIndicator:"Create account...",children:"Create account"})]});return e.jsxs(e.Fragment,{children:[e.jsx(q,{title:"Get started absolutely free",description:e.jsxs(e.Fragment,{children:["Already have an account? ",e.jsx(j,{component:b,href:P.auth.jwt.signIn,variant:"subtitle2",children:"Get started"})]}),sx:{textAlign:{xs:"center",md:"left"}}}),!!n&&e.jsx(w,{severity:"error",sx:{mb:3},children:n}),e.jsx(T,{methods:l,onSubmit:g,children:h()}),e.jsx(U,{})]})}export{Y as J,Z as a};
