import{j as s,t as T,bI as h,V as j,I as l,dZ as C,B as n,A as w,cv as v,cq as k,R as O,T as b,b6 as P,ex as p,F as f,dQ as N,ct as A,cu as F,aT as B,N as E,g as I,eh as R,fk as L,O as $,G as y,D as S,fi as z,o as G}from"./index-BPi-lj99.js";import{u as H}from"./use-params-317g6tk1.js";import"./order-list-view-pj3aBNPy.js";import{d}from"./format-number-bPxp5Hz3.js";import{S as u}from"./Stack-qxGgU9sa.js";import{T as M,a as U,b as _,c as q,d as V,e as W,t as Q}from"./TimelineItem-DZAkJu0S.js";import"./confirm-dialog-DFJzv7fL.js";import"./DialogTitle-B2Gb2OYZ.js";import"./dialogTitleClasses-pRzgyf3x.js";import"./DialogContent-31eqGF97.js";import"./DialogActions-D-kuG3ww.js";import"./table-pagination-custom-Q4IswwrP.js";import"./empty-content-9ilj_6E5.js";import"./TableHead-BK-FFbhv.js";import"./TableCell-DZiVaiNL.js";import"./Checkbox-Cb0hcSDN.js";import"./TablePagination-tZn8MUMt.js";import"./LastPage-ClWw7PMw.js";import"./FormControlLabel-CR_hDGs6.js";import"./table-empty-rows-D838YnHc.js";import"./table-head-custom-ipFp6YIf.js";import"./DatePicker-CUx5CUAj.js";import"./index-BSK_tT2J.js";import"./index-Chjiymov.js";import"./filters-result-uhHU2u14.js";function Z({sx:e,taxes:a,shipping:i,discount:t,subtotal:c,items:m=[],totalAmount:x,...g}){const r=()=>s.jsxs(n,{sx:{p:3,gap:2,display:"flex",textAlign:"right",typography:"body2",alignItems:"flex-end",flexDirection:"column"},children:[s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{sx:{color:"text.secondary"},children:"Subtotal"}),s.jsx(n,{sx:{width:160,typography:"subtitle2"},children:d(c)||"-"})]}),s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{sx:{color:"text.secondary"},children:"Shipping"}),s.jsx(n,{sx:{width:160,...i&&{color:"error.main"}},children:i?`- ${d(i)}`:"-"})]}),s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{sx:{color:"text.secondary"},children:"Discount"}),s.jsx(n,{sx:{width:160,...t&&{color:"error.main"}},children:t?`- ${d(t)}`:"-"})]}),s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{sx:{color:"text.secondary"},children:"Taxes"}),s.jsx(n,{sx:{width:160},children:a?d(a):"-"})]}),s.jsxs(n,{sx:{display:"flex",typography:"subtitle1"},children:[s.jsx("div",{children:"Total"}),s.jsx(n,{sx:{width:160},children:d(x)||"-"})]})]});return s.jsxs(T,{sx:e,...g,children:[s.jsx(h,{title:"Details",action:s.jsx(j,{children:s.jsx(l,{icon:"solar:pen-bold"})})}),s.jsx(C,{children:m.map(o=>s.jsxs(n,{sx:[D=>({p:3,minWidth:640,display:"flex",alignItems:"center",borderBottom:`dashed 2px ${D.vars.palette.background.neutral}`})],children:[s.jsx(w,{src:o.coverUrl,variant:"rounded",sx:{width:48,height:48,mr:2}}),s.jsx(v,{primary:o.name,secondary:o.sku,slotProps:{primary:{sx:{typography:"body2"}},secondary:{sx:{mt:.5,color:"text.disabled"}}}}),s.jsxs(n,{sx:{typography:"body2"},children:["x",o.quantity]}),s.jsx(n,{sx:{width:110,textAlign:"right",typography:"subtitle2"},children:d(o.price)})]},o.id))}),r()]})}function J({status:e,backHref:a,createdAt:i,orderNumber:t,statusOptions:c,onChangeStatus:m}){const x=k(),g=()=>s.jsx(N,{open:x.open,anchorEl:x.anchorEl,onClose:x.onClose,slotProps:{arrow:{placement:"top-right"}},children:s.jsx(A,{children:c.map(r=>s.jsx(F,{selected:r.value===e,onClick:()=>{x.onClose(),m(r.value)},children:r.label},r.value))})});return s.jsxs(s.Fragment,{children:[s.jsxs(n,{sx:{gap:3,display:"flex",mb:{xs:3,md:5},flexDirection:{xs:"column",md:"row"}},children:[s.jsxs(n,{sx:{gap:1,display:"flex",alignItems:"flex-start"},children:[s.jsx(j,{component:O,href:a,children:s.jsx(l,{icon:"eva:arrow-ios-back-fill"})}),s.jsxs(u,{spacing:.5,children:[s.jsxs(n,{sx:{gap:1,display:"flex",alignItems:"center"},children:[s.jsxs(b,{variant:"h4",children:[" Order ",t," "]}),s.jsx(P,{variant:"soft",color:e==="completed"&&"success"||e==="pending"&&"warning"||e==="cancelled"&&"error"||"default",children:e})]}),s.jsx(b,{variant:"body2",sx:{color:"text.disabled"},children:p(i)})]})]}),s.jsxs(n,{sx:{gap:1.5,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[s.jsx(f,{color:"inherit",variant:"outlined",endIcon:s.jsx(l,{icon:"eva:arrow-ios-downward-fill"}),onClick:x.onOpen,sx:{textTransform:"capitalize"},children:e}),s.jsx(f,{color:"inherit",variant:"outlined",startIcon:s.jsx(l,{icon:"solar:printer-minimalistic-bold"}),children:"Print"}),s.jsx(f,{color:"inherit",variant:"contained",startIcon:s.jsx(l,{icon:"solar:pen-bold"}),children:"Edit"})]})]}),g()]})}function K({history:e}){const a=()=>s.jsxs(B,{variant:"outlined",sx:{p:2.5,gap:2,minWidth:260,flexShrink:0,borderRadius:2,display:"flex",typography:"body2",borderStyle:"dashed",flexDirection:"column"},children:[s.jsxs("div",{children:[s.jsx(n,{sx:{mb:.5,color:"text.disabled"},children:"Order time"}),p(e==null?void 0:e.orderTime)]}),s.jsxs("div",{children:[s.jsx(n,{sx:{mb:.5,color:"text.disabled"},children:"Payment time"}),p(e==null?void 0:e.orderTime)]}),s.jsxs("div",{children:[s.jsx(n,{sx:{mb:.5,color:"text.disabled"},children:"Delivery time for the carrier"}),p(e==null?void 0:e.orderTime)]}),s.jsxs("div",{children:[s.jsx(n,{sx:{mb:.5,color:"text.disabled"},children:"Completion time"}),p(e==null?void 0:e.orderTime)]})]}),i=()=>s.jsx(M,{sx:{p:0,m:0,[`& .${Q.root}:before`]:{flex:0,padding:0}},children:e==null?void 0:e.timeline.map((t,c)=>{const m=c===0,x=c===e.timeline.length-1;return s.jsxs(U,{children:[s.jsxs(_,{children:[s.jsx(q,{color:m&&"primary"||"grey"}),x?null:s.jsx(V,{})]}),s.jsxs(W,{children:[s.jsx(b,{variant:"subtitle2",children:t.title}),s.jsx(n,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:p(t.time)})]})]},t.title)})});return s.jsxs(T,{children:[s.jsx(h,{title:"History"}),s.jsxs(n,{sx:{p:3,gap:3,display:"flex",alignItems:{md:"flex-start"},flexDirection:{xs:"column-reverse",md:"row"}},children:[i(),a()]})]})}function X({payment:e}){return s.jsxs(s.Fragment,{children:[s.jsx(h,{title:"Payment",action:s.jsx(j,{children:s.jsx(l,{icon:"solar:pen-bold"})})}),s.jsxs(n,{sx:{p:3,gap:.5,display:"flex",typography:"body2",alignItems:"center",justifyContent:"flex-end"},children:[e==null?void 0:e.cardNumber,s.jsx(l,{icon:"payments:mastercard",width:36,height:"auto"})]})]})}function Y({customer:e}){return s.jsxs(s.Fragment,{children:[s.jsx(h,{title:"Customer info",action:s.jsx(j,{children:s.jsx(l,{icon:"solar:pen-bold"})})}),s.jsxs(n,{sx:{p:3,display:"flex"},children:[s.jsx(w,{alt:e==null?void 0:e.name,src:e==null?void 0:e.avatarUrl,sx:{width:48,height:48,mr:2}}),s.jsxs(u,{spacing:.5,sx:{typography:"body2",alignItems:"flex-start"},children:[s.jsx(b,{variant:"subtitle2",children:e==null?void 0:e.name}),s.jsx(n,{sx:{color:"text.secondary"},children:e==null?void 0:e.email}),s.jsxs("div",{children:["IP address:",s.jsx(n,{component:"span",sx:{color:"text.secondary",ml:.25},children:e==null?void 0:e.ipAddress})]}),s.jsx(f,{size:"small",color:"error",startIcon:s.jsx(l,{icon:"mingcute:add-line"}),sx:{mt:1},children:"Add to Blacklist"})]})]})]})}function ss({delivery:e}){return s.jsxs(s.Fragment,{children:[s.jsx(h,{title:"Delivery",action:s.jsx(j,{children:s.jsx(l,{icon:"solar:pen-bold"})})}),s.jsxs(u,{spacing:1.5,sx:{p:3,typography:"body2"},children:[s.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Ship by"}),e==null?void 0:e.shipBy]}),s.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Speedy"}),e==null?void 0:e.speedy]}),s.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Tracking No."}),s.jsx(E,{underline:"always",color:"inherit",children:e==null?void 0:e.trackingNumber})]})]})]})}function es({shippingAddress:e}){return s.jsxs(s.Fragment,{children:[s.jsx(h,{title:"Shipping",action:s.jsx(j,{children:s.jsx(l,{icon:"solar:pen-bold"})})}),s.jsxs(u,{spacing:1.5,sx:{p:3,typography:"body2"},children:[s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Address"}),e==null?void 0:e.fullAddress]}),s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Phone number"}),e==null?void 0:e.phoneNumber]})]})]})}function ns({order:e}){const[a,i]=I.useState(e==null?void 0:e.status),t=I.useCallback(c=>{i(c)},[]);return s.jsxs(R,{children:[s.jsx(J,{status:a,createdAt:e==null?void 0:e.createdAt,orderNumber:e==null?void 0:e.orderNumber,backHref:$.dashboard.order.root,onChangeStatus:t,statusOptions:L}),s.jsxs(y,{container:!0,spacing:3,children:[s.jsx(y,{size:{xs:12,md:8},children:s.jsxs(n,{sx:{gap:3,display:"flex",flexDirection:{xs:"column-reverse",md:"column"}},children:[s.jsx(Z,{items:e==null?void 0:e.items,taxes:e==null?void 0:e.taxes,shipping:e==null?void 0:e.shipping,discount:e==null?void 0:e.discount,subtotal:e==null?void 0:e.subtotal,totalAmount:e==null?void 0:e.totalAmount}),s.jsx(K,{history:e==null?void 0:e.history})]})}),s.jsx(y,{size:{xs:12,md:4},children:s.jsxs(T,{children:[s.jsx(Y,{customer:e==null?void 0:e.customer}),s.jsx(S,{sx:{borderStyle:"dashed"}}),s.jsx(ss,{delivery:e==null?void 0:e.delivery}),s.jsx(S,{sx:{borderStyle:"dashed"}}),s.jsx(es,{shippingAddress:e==null?void 0:e.shippingAddress}),s.jsx(S,{sx:{borderStyle:"dashed"}}),s.jsx(X,{payment:e==null?void 0:e.payment})]})})]})]})}const is={title:`Order details | Dashboard - ${G.appName}`};function Os(){const{id:e=""}=H(),a=z.find(i=>i.id===e);return s.jsxs(s.Fragment,{children:[s.jsx("title",{children:is.title}),s.jsx(ns,{order:a})]})}export{Os as default};
