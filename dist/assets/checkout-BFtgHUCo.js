import{g as m,b1 as W,b2 as E,aQ as O,j as e,q as f,aT as $,aV as B,c6 as ne,bM as Se,aZ as U,aS as Q,bk as ae,z as G,bI as V,M as y,I as v,B as c,T as h,D as X,b5 as ie,Y as Le,A as Ie,L as ke,Z as we,dY as Ae,G as j,W as le,R as ce,dt as de,x as pe,E as xe,O as ue,c5 as ze,dp as me,e3 as Re,V as Te,e4 as De,C as Pe}from"./index-D6bpUwKX.js";import{E as Me}from"./empty-content-DB3Nbb7N.js";import{u as _}from"./use-checkout-context-Bx7evZHb.js";import{c as M}from"./format-number-Cj8l_lI8.js";import{S as ee}from"./Stack-7h-e6yAT.js";import{T as $e}from"./table-head-custom-sEcjNvfC.js";import{C as Fe}from"./color-preview-DQyBWqPc.js";import{N as Ne}from"./number-input-DQ22OHLr.js";import{T as We,a as Ee,b as Oe}from"./TableHead-BR3Xtr2P.js";import{T as N}from"./TableCell-ceTMykc4.js";import{s as Be,z as Z}from"./zod-B5GKHG6E.js";import{b as he,C as ve,u as Ue}from"./styles-D8b8rnOK.js";import"./code-highlight-block-YQG8K_vY.js";import"./preview-single-file-DAd3oWJu.js";import{F as Ge}from"./form-provider-BQ6XSOiV.js";import{P as Ve}from"./payment-new-card-form-BLBkBTLy.js";import{D as qe}from"./DialogTitle-6_KxcEEQ.js";import{D as He}from"./DialogContent-Byx-1axF.js";import{D as _e}from"./DialogActions-CNc7tTfu.js";import{A as Ye}from"./address-item-bcvk01BC.js";import{A as Qe}from"./address-new-form-DmH_4sLH.js";import"./Checkbox-D-eTL2vR.js";import"./fields-B53gUzDf.js";import"./Rating-BR8dol5T.js";import"./editor-DYEwp_Gv.js";import"./FormGroup-yYGkv0rT.js";import"./FormControlLabel-BXvztm9I.js";import"./index-DWKsHr_b.js";import"./index-Chjiymov.js";import"./upload-Ch5UFSCV.js";import"./index-DGt-RZrN.js";import"./image-FIum-Rwa.js";import"./DatePicker-BUn93AuB.js";import"./dialogTitleClasses-Bbkpp0St.js";import"./schema-helper-CN5fZ2XK.js";const Y=m.createContext({}),te=m.createContext({});function Ze(t){return W("MuiStep",t)}E("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const Je=t=>{const{classes:r,orientation:o,alternativeLabel:n,completed:s}=t;return B({root:["root",o,n&&"alternativeLabel",s&&"completed"]},Ze,r)},Ke=f("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,r[o.orientation],o.alternativeLabel&&r.alternativeLabel,o.completed&&r.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),Xe=m.forwardRef(function(r,o){const n=O({props:r,name:"MuiStep"}),{active:s,children:a,className:d,component:i="div",completed:l,disabled:x,expanded:u=!1,index:p,last:b,...z}=n,{activeStep:k,connector:g,alternativeLabel:w,orientation:R,nonLinear:A}=m.useContext(Y);let[C=!1,T=!1,I=!1]=[s,l,x];k===p?C=s!==void 0?s:!0:!A&&k>p?T=l!==void 0?l:!0:!A&&k<p&&(I=x!==void 0?x:!0);const F=m.useMemo(()=>({index:p,last:b,expanded:u,icon:p+1,active:C,completed:T,disabled:I}),[p,b,u,C,T,I]),S={...n,active:C,orientation:R,alternativeLabel:w,completed:T,disabled:I,expanded:u,component:i},D=Je(S),P=e.jsxs(Ke,{as:i,className:$(D.root,d),ref:o,ownerState:S,...z,children:[g&&w&&p!==0?g:null,a]});return e.jsx(te.Provider,{value:F,children:g&&!w&&p!==0?e.jsxs(m.Fragment,{children:[g,P]}):P})}),et=ne(e.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"})),tt=ne(e.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}));function rt(t){return W("MuiStepIcon",t)}const J=E("MuiStepIcon",["root","active","completed","error","text"]);var se;const ot=t=>{const{classes:r,active:o,completed:n,error:s}=t;return B({root:["root",o&&"active",n&&"completed",s&&"error"],text:["text"]},rt,r)},K=f(Se,{name:"MuiStepIcon",slot:"Root",overridesResolver:(t,r)=>r.root})(U(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,[`&.${J.completed}`]:{color:(t.vars||t).palette.primary.main},[`&.${J.active}`]:{color:(t.vars||t).palette.primary.main},[`&.${J.error}`]:{color:(t.vars||t).palette.error.main}}))),st=f("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(t,r)=>r.text})(U(({theme:t})=>({fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}))),nt=m.forwardRef(function(r,o){const n=O({props:r,name:"MuiStepIcon"}),{active:s=!1,className:a,completed:d=!1,error:i=!1,icon:l,...x}=n,u={...n,active:s,completed:d,error:i},p=ot(u);if(typeof l=="number"||typeof l=="string"){const b=$(a,p.root);return i?e.jsx(K,{as:tt,className:b,ref:o,ownerState:u,...x}):d?e.jsx(K,{as:et,className:b,ref:o,ownerState:u,...x}):e.jsxs(K,{className:b,ref:o,ownerState:u,...x,children:[se||(se=e.jsx("circle",{cx:"12",cy:"12",r:"12"})),e.jsx(st,{className:p.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:l})]})}return l});function at(t){return W("MuiStepLabel",t)}const L=E("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),it=t=>{const{classes:r,orientation:o,active:n,completed:s,error:a,disabled:d,alternativeLabel:i}=t;return B({root:["root",o,a&&"error",d&&"disabled",i&&"alternativeLabel"],label:["label",n&&"active",s&&"completed",a&&"error",d&&"disabled",i&&"alternativeLabel"],iconContainer:["iconContainer",n&&"active",s&&"completed",a&&"error",d&&"disabled",i&&"alternativeLabel"],labelContainer:["labelContainer",i&&"alternativeLabel"]},at,r)},lt=f("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,r[o.orientation]]}})({display:"flex",alignItems:"center",[`&.${L.alternativeLabel}`]:{flexDirection:"column"},[`&.${L.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),ct=f("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(t,r)=>r.label})(U(({theme:t})=>({...t.typography.body2,display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${L.active}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${L.completed}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${L.alternativeLabel}`]:{marginTop:16},[`&.${L.error}`]:{color:(t.vars||t).palette.error.main}}))),dt=f("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(t,r)=>r.iconContainer})({flexShrink:0,display:"flex",paddingRight:8,[`&.${L.alternativeLabel}`]:{paddingRight:0}}),pt=f("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(t,r)=>r.labelContainer})(U(({theme:t})=>({width:"100%",color:(t.vars||t).palette.text.secondary,[`&.${L.alternativeLabel}`]:{textAlign:"center"}}))),ye=m.forwardRef(function(r,o){const n=O({props:r,name:"MuiStepLabel"}),{children:s,className:a,componentsProps:d={},error:i=!1,icon:l,optional:x,slots:u={},slotProps:p={},StepIconComponent:b,StepIconProps:z,...k}=n,{alternativeLabel:g,orientation:w}=m.useContext(Y),{active:R,disabled:A,completed:C,icon:T}=m.useContext(te),I=l||T;let F=b;I&&!F&&(F=nt);const S={...n,active:R,alternativeLabel:g,completed:C,disabled:A,error:i,orientation:w},D=it(S),P={slots:u,slotProps:{stepIcon:z,...d,...p}},[je,fe]=Q("root",{elementType:lt,externalForwardedProps:{...P,...k},ownerState:S,ref:o,className:$(D.root,a)}),[Ce,q]=Q("label",{elementType:ct,externalForwardedProps:P,ownerState:S}),[oe,ge]=Q("stepIcon",{elementType:F,externalForwardedProps:P,ownerState:S});return e.jsxs(je,{...fe,children:[I||oe?e.jsx(dt,{className:D.iconContainer,ownerState:S,children:e.jsx(oe,{completed:C,active:R,error:i,icon:I,...ge})}):null,e.jsxs(pt,{className:D.labelContainer,ownerState:S,children:[s?e.jsx(Ce,{...q,className:$(D.label,q==null?void 0:q.className),children:s}):null,x]})]})});ye.muiName="StepLabel";function xt(t){return W("MuiStepConnector",t)}const H=E("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]),ut=t=>{const{classes:r,orientation:o,alternativeLabel:n,active:s,completed:a,disabled:d}=t,i={root:["root",o,n&&"alternativeLabel",s&&"active",a&&"completed",d&&"disabled"],line:["line",`line${ae(o)}`]};return B(i,xt,r)},mt=f("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,r[o.orientation],o.alternativeLabel&&r.alternativeLabel,o.completed&&r.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),ht=f("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.line,r[`line${ae(o.orientation)}`]]}})(U(({theme:t})=>{const r=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return{display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:r,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),be=m.forwardRef(function(r,o){const n=O({props:r,name:"MuiStepConnector"}),{className:s,...a}=n,{alternativeLabel:d,orientation:i="horizontal"}=m.useContext(Y),{active:l,disabled:x,completed:u}=m.useContext(te),p={...n,alternativeLabel:d,orientation:i,active:l,completed:u,disabled:x},b=ut(p);return e.jsx(mt,{className:$(b.root,s),ref:o,ownerState:p,...a,children:e.jsx(ht,{className:b.line,ownerState:p})})});function vt(t){return W("MuiStepper",t)}E("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const yt=t=>{const{orientation:r,nonLinear:o,alternativeLabel:n,classes:s}=t;return B({root:["root",r,o&&"nonLinear",n&&"alternativeLabel"]},vt,s)},bt=f("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,r[o.orientation],o.alternativeLabel&&r.alternativeLabel,o.nonLinear&&r.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),jt=e.jsx(be,{}),ft=m.forwardRef(function(r,o){const n=O({props:r,name:"MuiStepper"}),{activeStep:s=0,alternativeLabel:a=!1,children:d,className:i,component:l="div",connector:x=jt,nonLinear:u=!1,orientation:p="horizontal",...b}=n,z={...n,nonLinear:u,alternativeLabel:a,orientation:p,component:l},k=yt(z),g=m.Children.toArray(d).filter(Boolean),w=g.map((A,C)=>m.cloneElement(A,{index:C,last:C+1===g.length,...A.props})),R=m.useMemo(()=>({activeStep:s,alternativeLabel:a,connector:x,nonLinear:u,orientation:p}),[s,a,x,u,p]);return e.jsx(Y.Provider,{value:R,children:e.jsx(bt,{as:l,ownerState:z,className:$(k.root,i),ref:o,...b,children:w})})});function re({onEdit:t,checkoutState:r,onApplyDiscount:o}){const{shipping:n,subtotal:s,discount:a,total:d}=r,i=n!==null?"Free":"-",l={display:"flex"};return e.jsxs(G,{sx:{mb:3},children:[e.jsx(V,{title:"Order summary",action:t&&e.jsx(y,{size:"small",onClick:t,startIcon:e.jsx(v,{icon:"solar:pen-bold"}),children:"Edit"})}),e.jsxs(ee,{spacing:2,sx:{p:3},children:[e.jsxs(c,{sx:{...l},children:[e.jsx(h,{component:"span",variant:"body2",sx:{flexGrow:1,color:"text.secondary"},children:"Subtotal"}),e.jsx(h,{component:"span",variant:"subtitle2",children:M(s)})]}),e.jsxs(c,{sx:{...l},children:[e.jsx(h,{component:"span",variant:"body2",sx:{flexGrow:1,color:"text.secondary"},children:"Discount"}),e.jsx(h,{component:"span",variant:"subtitle2",children:a?M(-a):"-"})]}),e.jsxs(c,{sx:{...l},children:[e.jsx(h,{component:"span",variant:"body2",sx:{flexGrow:1,color:"text.secondary"},children:"Shipping"}),e.jsx(h,{component:"span",variant:"subtitle2",children:n?M(n):i})]}),e.jsx(X,{sx:{borderStyle:"dashed"}}),e.jsxs(c,{sx:{...l},children:[e.jsx(h,{component:"span",variant:"subtitle1",sx:{flexGrow:1},children:"Total"}),e.jsxs(c,{sx:{textAlign:"right"},children:[e.jsx(h,{component:"span",variant:"subtitle1",sx:{display:"block",color:"error.main"},children:M(d)}),e.jsx(h,{variant:"caption",sx:{fontStyle:"italic"},children:"(VAT included if applicable)"})]})]}),o&&e.jsx(ie,{fullWidth:!0,placeholder:"Discount codes / Gifts",value:"DISCOUNT5",slotProps:{input:{endAdornment:e.jsx(Le,{position:"end",children:e.jsx(y,{color:"primary",onClick:()=>o(5),sx:{mr:-.5},children:"Apply"})})}}})]})]})}function Ct({row:t,onDeleteCartItem:r,onChangeItemQuantity:o}){return e.jsxs(We,{children:[e.jsx(N,{children:e.jsxs(c,{sx:{gap:2,display:"flex",alignItems:"center"},children:[e.jsx(Ie,{variant:"rounded",alt:t.name,src:t.coverUrl,sx:{width:64,height:64}}),e.jsxs(ee,{spacing:.5,children:[e.jsx(h,{noWrap:!0,variant:"subtitle2",sx:{maxWidth:240},children:t.name}),e.jsxs(c,{sx:{display:"flex",typography:"body2",alignItems:"center",color:"text.secondary"},children:["size: ",e.jsxs(ke,{sx:{ml:.5},children:[" ",t.size," "]}),e.jsx(X,{orientation:"vertical",sx:{mx:1,height:16}}),e.jsx(Fe,{colors:t.colors})]})]})]})}),e.jsx(N,{children:M(t.price)}),e.jsx(N,{children:e.jsxs(c,{sx:{width:100,textAlign:"right"},children:[e.jsx(Ne,{hideDivider:!0,value:t.quantity,onChange:(n,s)=>o(t.id,s),max:t.available}),e.jsxs(h,{variant:"caption",sx:{color:"text.secondary",display:"block",mt:1},children:["available: ",t.available]})]})}),e.jsx(N,{align:"right",children:M(t.price*t.quantity)}),e.jsx(N,{align:"right",sx:{px:1},children:e.jsx(we,{onClick:()=>r(t.id),children:e.jsx(v,{icon:"solar:trash-bin-trash-bold"})})})]})}const gt=[{id:"product",label:"Product"},{id:"price",label:"Price"},{id:"quantity",label:"Quantity"},{id:"totalAmount",label:"Total Price",align:"right"},{id:""}];function St({checkoutState:t,onDeleteCartItem:r,onChangeItemQuantity:o}){return e.jsx(Ae,{children:e.jsxs(Ee,{sx:{minWidth:720},children:[e.jsx($e,{headCells:gt}),e.jsx(Oe,{children:t.items.map(n=>e.jsx(Ct,{row:n,onDeleteCartItem:r,onChangeItemQuantity:o},n.id))})]})})}function Lt(){const{loading:t,onChangeStep:r,onApplyDiscount:o,onDeleteCartItem:n,state:s,onChangeItemQuantity:a}=_(),d=!s.items.length,i=()=>e.jsx(c,{sx:{height:340,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(de,{color:"inherit",sx:{width:1,maxWidth:320}})}),l=()=>e.jsx(Me,{title:"Cart is empty!",description:"Look like you have no items in your shopping cart.",imgUrl:`${pe.assetsDir}/assets/icons/empty/ic-cart.svg`,sx:{height:340}});return e.jsxs(j,{container:!0,spacing:3,children:[e.jsxs(j,{size:{xs:12,md:8},children:[e.jsxs(G,{sx:{mb:3},children:[e.jsx(V,{title:e.jsxs(h,{variant:"h6",children:["Cart ",e.jsxs(h,{component:"span",sx:{color:"text.secondary"},children:["(",s.totalItems," items)"]})]}),sx:{mb:3}}),t?i():e.jsx(e.Fragment,{children:d?l():e.jsx(St,{checkoutState:s,onDeleteCartItem:n,onChangeItemQuantity:a})})]}),e.jsx(y,{component:ce,href:le.product.root,color:"inherit",startIcon:e.jsx(v,{icon:"eva:arrow-ios-back-fill"}),children:"Continue shopping"})]}),e.jsxs(j,{size:{xs:12,md:4},children:[e.jsx(re,{checkoutState:s,onApplyDiscount:o}),e.jsx(y,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:d,onClick:()=>r("next"),children:"Check out"})]})]})}function It({steps:t,activeStep:r,sx:o,...n}){return e.jsx(ft,{alternativeLabel:!0,activeStep:r,connector:e.jsx(kt,{}),sx:[{mb:{xs:3,md:5}},...Array.isArray(o)?o:[o]],...n,children:t.map(s=>e.jsx(Xe,{children:e.jsx(ye,{slots:{stepIcon:wt},sx:{[`& .${L.label}`]:{fontWeight:"fontWeightSemiBold"}},children:s})},s))})}const kt=f(be)(({theme:t})=>({top:10,left:"calc(-50% + 20px)",right:"calc(50% + 20px)",[`& .${H.line}`]:{borderTopWidth:2,borderColor:t.vars.palette.divider},[`&.${H.active}, &.${H.completed}`]:{[`& .${H.line}`]:{borderColor:t.vars.palette.primary.main}}}));function wt({active:t,completed:r}){return e.jsx(c,{sx:{width:24,height:24,display:"flex",alignItems:"center",color:"text.disabled",justifyContent:"center",...t&&{color:"primary.main"}},children:r?e.jsx(v,{icon:"eva:checkmark-fill",sx:{color:"primary.main"}}):e.jsx(c,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"}})})}function At({name:t,options:r,onApplyShipping:o,sx:n,...s}){const{control:a}=he();return e.jsxs(G,{sx:n,...s,children:[e.jsx(V,{title:"Delivery"}),e.jsx(ve,{name:t,control:a,render:({field:{value:d,onChange:i}})=>e.jsx(c,{sx:{p:3,rowGap:2.5,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:r.map(l=>e.jsx(zt,{option:l,selected:d===l.value,onClick:()=>{i(l.value),o(l.value)}},l.label))})})]})}function zt({option:t,selected:r,sx:o,...n}){return e.jsxs(c,{sx:[s=>({p:2.5,gap:2,display:"flex",cursor:"pointer",borderRadius:1.5,border:`solid 1px ${xe(s.vars.palette.grey["500Channel"],.24)}`,transition:s.transitions.create(["box-shadow"],{easing:s.transitions.easing.sharp,duration:s.transitions.duration.shortest}),...r&&{boxShadow:`0 0 0 2px ${s.vars.palette.text.primary}`}}),...Array.isArray(o)?o:[o]],...n,children:[e.jsx(v,{width:28,icon:t.label==="Standard"&&"carbon:delivery"||t.label==="Express"&&"carbon:rocket"||"carbon:bicycle"}),e.jsxs(c,{sx:{flex:"1 1 auto"},children:[e.jsxs(c,{sx:{mb:.5,display:"flex",typography:"h6",alignItems:"center"},children:[e.jsx(c,{component:"span",sx:{flexGrow:1,typography:"subtitle1"},children:t.label}),`$${t.value}`]}),e.jsx(c,{component:"span",sx:{display:"flex",typography:"body2",color:"text.secondary"},children:t.description})]})]})}function Rt({checkoutState:t,onChangeStep:r,loading:o,sx:n,...s}){const{billing:a}=t,d=()=>e.jsx(c,{sx:{height:104,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(de,{color:"inherit",sx:{width:1,maxWidth:120}})});return e.jsxs(G,{sx:[{mb:3},...Array.isArray(n)?n:[n]],...s,children:[e.jsx(V,{title:"Address",action:e.jsx(y,{size:"small",startIcon:e.jsx(v,{icon:"solar:pen-bold"}),onClick:()=>r("back"),children:"Edit"})}),e.jsx(ee,{spacing:1,sx:{p:3},children:o?d():e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{typography:"subtitle2"},children:[`${a==null?void 0:a.name} `,e.jsxs(c,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:["(",a==null?void 0:a.addressType,")"]})]}),e.jsx(c,{sx:{color:"text.secondary",typography:"body2"},children:a==null?void 0:a.fullAddress}),e.jsx(c,{sx:{color:"text.secondary",typography:"body2"},children:a==null?void 0:a.phoneNumber})]})})]})}function Tt({name:t,options:r,sx:o,...n}){const{control:s}=he(),a=ue();return e.jsxs(e.Fragment,{children:[e.jsxs(G,{sx:o,...n,children:[e.jsx(V,{title:"Payment"}),e.jsx(ve,{name:t,control:s,render:({field:{value:d,onChange:i},fieldState:{error:l}})=>e.jsxs(c,{sx:{p:3,gap:2.5,display:"flex",flexDirection:"column"},children:[r.payments.map(x=>{const u=d===x.value;return e.jsx(Dt,{option:x,selected:u,onOpen:a.onTrue,cardOptions:r.cards,isCredit:u&&x.value==="creditcard",onClick:()=>i(x.value)},x.label)}),!!l&&e.jsx(ze,{error:!0,sx:{mt:0,px:2},children:l.message})]})})]}),e.jsxs(me,{fullWidth:!0,maxWidth:"xs",open:a.value,onClose:a.onFalse,children:[e.jsx(qe,{children:" Add new card "}),e.jsx(He,{sx:{overflow:"unset"},children:e.jsx(Ve,{})}),e.jsxs(_e,{children:[e.jsx(y,{color:"inherit",variant:"outlined",onClick:a.onFalse,children:"Cancel"}),e.jsx(y,{color:"inherit",variant:"contained",onClick:a.onFalse,children:"Add"})]})]})]})}function Dt({sx:t,option:r,onOpen:o,selected:n,isCredit:s,cardOptions:a,...d}){return e.jsxs(c,{sx:[i=>({borderRadius:1.5,border:`solid 1px ${xe(i.vars.palette.grey["500Channel"],.24)}`,transition:i.transitions.create(["box-shadow"],{easing:i.transitions.easing.sharp,duration:i.transitions.duration.shortest}),...n&&{boxShadow:`0 0 0 2px ${i.vars.palette.text.primary}`}}),...Array.isArray(t)?t:[t]],...d,children:[e.jsxs(c,{sx:{p:2.5,display:"flex",cursor:"pointer",alignItems:"flex-start"},children:[e.jsxs(c,{sx:{gap:.5,flexGrow:1,display:"flex",flexDirection:"column",typography:"subtitle1"},children:[r.label,e.jsx(c,{component:"span",sx:{typography:"body2",color:"text.secondary"},children:r.description})]}),e.jsxs(c,{sx:{gap:1,display:"flex",alignItems:"center"},children:[r.value==="creditcard"&&e.jsxs(e.Fragment,{children:[e.jsx(v,{icon:"payments:mastercard",width:36,height:"auto"}),e.jsx(v,{icon:"payments:visa",width:36,height:"auto"})]}),r.value==="paypal"&&e.jsx(v,{icon:"payments:paypal",width:24}),r.value==="cash"&&e.jsx(v,{icon:"solar:wad-of-money-bold",width:32})]})]}),s&&e.jsxs(c,{sx:{px:3},children:[e.jsx(ie,{select:!0,fullWidth:!0,label:"Card",slotProps:{select:{native:!0}},children:a.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))}),e.jsx(y,{size:"small",color:"primary",startIcon:e.jsx(v,{icon:"mingcute:add-line",sx:{mr:-.5}}),onClick:o,sx:{my:3},children:"Add new card"})]})]})}const Pt=[{value:0,label:"Free",description:"5-7 days delivery"},{value:10,label:"Standard",description:"3-5 days delivery"},{value:20,label:"Express",description:"2-3 days delivery"}],Mt=[{value:"paypal",label:"Pay with Paypal",description:"You will be redirected to PayPal website to complete your purchase securely."},{value:"creditcard",label:"Credit / Debit card",description:"We support Mastercard, Visa, Discover and Stripe."},{value:"cash",label:"Cash",description:"Pay with cash when your order is delivered."}],$t=[{value:"visa1",label:"**** **** **** 1212 - Jimmy Holland"},{value:"visa2",label:"**** **** **** 2424 - Shawn Stokes"},{value:"mastercard",label:"**** **** **** 4545 - Cole Armstrong"}],Ft=Z.object({payment:Z.string().min(1,{message:"Payment is required!"}),delivery:Z.number()});function Nt(){const{loading:t,onResetCart:r,onChangeStep:o,onApplyShipping:n,state:s}=_(),a={delivery:s.shipping,payment:""},d=Ue({resolver:Be(Ft),defaultValues:a}),{handleSubmit:i,formState:{isSubmitting:l}}=d,x=i(async u=>{try{r(),o("next"),console.info("DATA",u)}catch(p){console.error(p)}});return e.jsx(Ge,{methods:d,onSubmit:x,children:e.jsxs(j,{container:!0,spacing:3,children:[e.jsxs(j,{size:{xs:12,md:8},children:[e.jsx(At,{name:"delivery",onApplyShipping:n,options:Pt}),e.jsx(Tt,{name:"payment",options:{cards:$t,payments:Mt},sx:{my:3}}),e.jsx(y,{size:"small",color:"inherit",onClick:()=>o("back"),startIcon:e.jsx(v,{icon:"eva:arrow-ios-back-fill"}),children:"Back"})]}),e.jsxs(j,{size:{xs:12,md:4},children:[e.jsx(Rt,{loading:t,onChangeStep:o,checkoutState:s}),e.jsx(re,{checkoutState:s,onEdit:()=>o("go",0)}),e.jsx(y,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:l,children:"Complete order"})]})]})})}function Wt({onResetCart:t,onDownloadPDF:r,slotProps:o,...n}){var a;const s=(a=o==null?void 0:o.paper)==null?void 0:a.sx;return e.jsx(me,{fullWidth:!0,fullScreen:!0,slotProps:{...o,paper:{...o==null?void 0:o.paper,sx:[{width:{md:"calc(100% - 48px)"},height:{md:"calc(100% - 48px)"}},...Array.isArray(s)?s:[s]]}},...n,children:e.jsxs(c,{sx:{py:5,gap:5,m:"auto",maxWidth:480,display:"flex",textAlign:"center",alignItems:"center",px:{xs:2,sm:0},flexDirection:"column"},children:[e.jsx(h,{variant:"h4",children:"Thank you for your purchase!"}),e.jsx(Re,{}),e.jsxs(h,{children:["Thanks for placing order",e.jsx("br",{}),e.jsx("br",{}),e.jsx(Te,{children:"01dc1370-3df6-11eb-b378-0242ac130002"}),e.jsx("br",{}),e.jsx("br",{}),"We will send you a notification within 5 days when it ships.",e.jsx("br",{})," If you have any question or queries then fell to get in contact us. ",e.jsx("br",{}),"All the best,"]}),e.jsx(X,{sx:{width:1,borderStyle:"dashed"}}),e.jsxs(c,{sx:{gap:2,display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[e.jsx(y,{component:ce,href:le.product.root,size:"large",color:"inherit",variant:"outlined",onClick:t,startIcon:e.jsx(v,{icon:"eva:arrow-ios-back-fill"}),children:"Continue shopping"}),e.jsx(y,{size:"large",variant:"contained",startIcon:e.jsx(v,{icon:"eva:cloud-download-fill"}),onClick:r,children:"Download as PDF"})]})]})})}function Et(){const{onChangeStep:t,onCreateBillingAddress:r,state:o}=_(),n=ue();return e.jsxs(e.Fragment,{children:[e.jsxs(j,{container:!0,spacing:3,children:[e.jsxs(j,{size:{xs:12,md:8},children:[De.slice(0,4).map(s=>e.jsx(Ye,{address:s,action:e.jsxs(c,{sx:{flexShrink:0,display:"flex",flexWrap:"wrap"},children:[!s.primary&&e.jsx(y,{size:"small",color:"error",sx:{mr:1},children:"Delete"}),e.jsx(y,{variant:"outlined",size:"small",onClick:()=>{t("next"),r(s)},children:"Deliver to this address"})]}),sx:[a=>({p:3,mb:3,borderRadius:2,boxShadow:a.vars.customShadows.card})]},s.id)),e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(y,{size:"small",color:"inherit",onClick:()=>t("back"),startIcon:e.jsx(v,{icon:"eva:arrow-ios-back-fill"}),children:"Back"}),e.jsx(y,{size:"small",color:"primary",onClick:n.onTrue,startIcon:e.jsx(v,{icon:"mingcute:add-line"}),children:"New address"})]})]}),e.jsx(j,{size:{xs:12,md:4},children:e.jsx(re,{checkoutState:o})})]}),e.jsx(Qe,{open:n.value,onClose:n.onFalse,onCreate:s=>{t("next"),r(s)}})]})}function Ot(){const{steps:t,activeStep:r,completed:o,onResetCart:n}=_();return e.jsxs(Pe,{sx:{mb:10},children:[e.jsx(h,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Checkout"}),e.jsx(j,{container:!0,justifyContent:o?"center":"flex-start",children:e.jsx(j,{size:{xs:12,md:8},children:e.jsx(It,{steps:t,activeStep:r??0})})}),e.jsxs(e.Fragment,{children:[r===0&&e.jsx(Lt,{}),r===1&&e.jsx(Et,{}),r===2&&e.jsx(Nt,{}),o&&e.jsx(Wt,{open:!0,onResetCart:n,onDownloadPDF:()=>{}})]})]})}const Bt={title:`Checkout - ${pe.appName}`};function Sr(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:Bt.title}),e.jsx(Ot,{})]})}export{Sr as default};
