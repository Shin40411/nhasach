import{ei as T,dX as j,j as s,G as u,t as h,T as C,F as w,B as y,K as A,U as x,V as b,I as r}from"./index-BPi-lj99.js";import{s as f,z as o}from"./zod-B_WTTuJ9.js";import{u as P}from"./styles-BkVqaM-o.js";import{F as a,i as S}from"./fields-C_OA-jBI.js";import{a as v}from"./format-number-bPxp5Hz3.js";import"./preview-single-file-CNraPjvt.js";import"./code-highlight-block-CqLMdGe8.js";import{s as g}from"./schema-helper-zXJyfLbR.js";import{F as N}from"./form-provider-BxIa1T6o.js";import{S as q}from"./Stack-qxGgU9sa.js";const U=o.object({displayName:o.string().min(1,{message:"Name is required!"}),email:o.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),photoURL:g.file({message:"Avatar is required!"}),phoneNumber:g.phoneNumber({isValid:S}),country:g.nullableInput(o.string().min(1,{message:"Country is required!"}),{message:"Country is required!"}),address:o.string().min(1,{message:"Address is required!"}),state:o.string().min(1,{message:"State is required!"}),city:o.string().min(1,{message:"City is required!"}),zipCode:o.string().min(1,{message:"Zip code is required!"}),about:o.string().min(1,{message:"About is required!"}),isPublic:o.boolean()});function Z(){const{user:e}=T(),l={displayName:e==null?void 0:e.displayName,email:e==null?void 0:e.email,photoURL:e==null?void 0:e.photoURL,phoneNumber:e==null?void 0:e.phoneNumber,country:e==null?void 0:e.country,address:e==null?void 0:e.address,state:e==null?void 0:e.state,city:e==null?void 0:e.city,zipCode:e==null?void 0:e.zipCode,about:e==null?void 0:e.about,isPublic:e==null?void 0:e.isPublic},i={displayName:"",email:"",photoURL:null,phoneNumber:"",country:null,address:"",state:"",city:"",zipCode:"",about:"",isPublic:!1},n=P({mode:"all",resolver:f(U),defaultValues:i,values:l}),{handleSubmit:d,formState:{isSubmitting:m}}=n,c=d(async p=>{try{await new Promise(t=>setTimeout(t,500)),j.success("Update success!"),console.info("DATA",p)}catch(t){console.error(t)}});return s.jsx(N,{methods:n,onSubmit:c,children:s.jsxs(u,{container:!0,spacing:3,children:[s.jsx(u,{size:{xs:12,md:4},children:s.jsxs(h,{sx:{pt:10,pb:5,px:3,textAlign:"center"},children:[s.jsx(a.UploadAvatar,{name:"photoURL",maxSize:3145728,helperText:s.jsxs(C,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",s.jsx("br",{})," max size of ",v(3145728)]})}),s.jsx(a.Switch,{name:"isPublic",labelPlacement:"start",label:"Public profile",sx:{mt:5}}),s.jsx(w,{variant:"soft",color:"error",sx:{mt:3},children:"Delete user"})]})}),s.jsx(u,{size:{xs:12,md:8},children:s.jsxs(h,{sx:{p:3},children:[s.jsxs(y,{sx:{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[s.jsx(a.Text,{name:"displayName",label:"Name"}),s.jsx(a.Text,{name:"email",label:"Email address"}),s.jsx(a.Phone,{name:"phoneNumber",label:"Phone number"}),s.jsx(a.Text,{name:"address",label:"Address"}),s.jsx(a.CountrySelect,{name:"country",label:"Country",placeholder:"Choose a country"}),s.jsx(a.Text,{name:"state",label:"State/region"}),s.jsx(a.Text,{name:"city",label:"City"}),s.jsx(a.Text,{name:"zipCode",label:"Zip/code"})]}),s.jsxs(q,{spacing:3,sx:{mt:3,alignItems:"flex-end"},children:[s.jsx(a.Text,{name:"about",multiline:!0,rows:4,label:"About"}),s.jsx(w,{type:"submit",variant:"contained",loading:m,children:"Save changes"})]})]})})]})})}const z=o.object({oldPassword:o.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"}),newPassword:o.string().min(1,{message:"New password is required!"}),confirmNewPassword:o.string().min(1,{message:"Confirm password is required!"})}).refine(e=>e.oldPassword!==e.newPassword,{message:"New password must be different than old password",path:["newPassword"]}).refine(e=>e.newPassword===e.confirmNewPassword,{message:"Passwords do not match!",path:["confirmNewPassword"]});function H(){const e=A(),l={oldPassword:"",newPassword:"",confirmNewPassword:""},i=P({mode:"all",resolver:f(z),defaultValues:l}),{reset:n,handleSubmit:d,formState:{isSubmitting:m}}=i,c=d(async p=>{try{await new Promise(t=>setTimeout(t,500)),n(),j.success("Update success!"),console.info("DATA",p)}catch(t){console.error(t)}});return s.jsx(N,{methods:i,onSubmit:c,children:s.jsxs(h,{sx:{p:3,gap:3,display:"flex",flexDirection:"column"},children:[s.jsx(a.Text,{name:"oldPassword",type:e.value?"text":"password",label:"Old password",slotProps:{input:{endAdornment:s.jsx(x,{position:"end",children:s.jsx(b,{onClick:e.onToggle,edge:"end",children:s.jsx(r,{icon:e.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}}),s.jsx(a.Text,{name:"newPassword",label:"New password",type:e.value?"text":"password",slotProps:{input:{endAdornment:s.jsx(x,{position:"end",children:s.jsx(b,{onClick:e.onToggle,edge:"end",children:s.jsx(r,{icon:e.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}},helperText:s.jsxs(y,{component:"span",sx:{gap:.5,display:"flex",alignItems:"center"},children:[s.jsx(r,{icon:"solar:info-circle-bold",width:16})," Password must be minimum 6+"]})}),s.jsx(a.Text,{name:"confirmNewPassword",type:e.value?"text":"password",label:"Confirm new password",slotProps:{input:{endAdornment:s.jsx(x,{position:"end",children:s.jsx(b,{onClick:e.onToggle,edge:"end",children:s.jsx(r,{icon:e.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}}),s.jsx(w,{type:"submit",variant:"contained",loading:m,sx:{ml:"auto"},children:"Save changes"})]})})}export{Z as A,H as a};
