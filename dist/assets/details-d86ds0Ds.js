import{j as s,G as h,B as x,N as D,T as f,D as $,g as B,H as R,F as z,dG as A,C as b,M as y,W as L,R as P,I as C,dH as E,x as k,z as F,cD as M,E as G,cC as V,dI as N}from"./index-D6bpUwKX.js";import{u as W}from"./use-params-3mYV1zXJ.js";import{E as _}from"./empty-content-DB3Nbb7N.js";import{S as o}from"./Skeleton-BPvFbs9h.js";import{S as u}from"./Stack-7h-e6yAT.js";import{u as O}from"./styles-D8b8rnOK.js";import{b as H}from"./format-number-Cj8l_lI8.js";import"./code-highlight-block-YQG8K_vY.js";import"./preview-single-file-DAd3oWJu.js";import{F as K}from"./form-provider-BQ6XSOiV.js";import{R as q}from"./Rating-BR8dol5T.js";import{I as Q}from"./image-FIum-Rwa.js";import{u as U,L as J}from"./use-light-box-CWKTePzW.js";import{e as X,C as Y,f as Z,g as ss}from"./carousel-arrow-buttons-CT0W27Pw.js";import{u as es}from"./use-carousel-CQB9aVgm.js";import{M as ns}from"./markdown-D0BtPAT8.js";import"./html-to-markdown-DfHH5kA-.js";function ts({...e}){return s.jsxs(h,{container:!0,spacing:8,...e,children:[s.jsx(h,{size:{xs:12,md:6,lg:7},children:s.jsx(o,{sx:{pt:"100%"}})}),s.jsx(h,{size:{xs:12,md:6,lg:5},children:s.jsxs(u,{spacing:3,children:[s.jsx(o,{sx:{height:16,width:48}}),s.jsx(o,{sx:{height:16,width:80}}),s.jsx(o,{sx:{height:16,width:.5}}),s.jsx(o,{sx:{height:16,width:.75}}),s.jsx(o,{sx:{height:120}})]})}),s.jsx(h,{size:12,children:s.jsx(x,{sx:{display:"flex",alignItems:"center"},children:Array.from({length:3},(n,a)=>s.jsxs(x,{sx:{gap:2,width:1,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[s.jsx(o,{variant:"circular",sx:{width:80,height:80}}),s.jsx(o,{sx:{height:16,width:160}}),s.jsx(o,{sx:{height:16,width:80}})]},a))})})]})}function is({items:e,product:n,onAddToCart:a,disableActions:i,...l}){D();const{id:t,title:r,subject:g,author:d,grade:j}=n;e!=null&&e.length&&e.map(T=>T.id).includes(t);const c=O({defaultValues:{id:t,title:r,subject:g,author:d,grade:j}}),{watch:m,control:hs,setValue:xs,handleSubmit:cs}=c,v=`Khám phá kho tàng tri thức và cảm hứng bất tận qua từng trang sách.
Mỗi cuốn sách là một cánh cửa mở ra thế giới mới — từ kiến thức chuyên môn, kỹ năng sống đến những câu chuyện đầy cảm xúc. Dù là hành trình tìm kiếm tri thức, thư giãn tinh thần hay mở rộng góc nhìn, sách luôn là người bạn đồng hành đáng tin cậy. Một lựa chọn phù hợp sẽ mang đến trải nghiệm đáng giá cho mọi lứa tuổi và sở thích.`,w=()=>s.jsx(f,{variant:"body2",sx:{color:"text.secondary",textAlign:"justify"},children:v}),I=()=>s.jsxs(x,{sx:{display:"flex",typography:"body2",alignItems:"center",color:"text.disabled"},children:[s.jsx(q,{size:"small",value:5,precision:.1,readOnly:!0,sx:{mr:1}}),`(Đánh giá ${H(5)} sao)`]}),S=()=>s.jsxs(x,{sx:{typography:"h5"},children:["Tác giả: ",d]});return s.jsx(K,{methods:c,children:s.jsxs(u,{spacing:3,sx:{pt:3},...l,children:[s.jsxs(u,{spacing:2,alignItems:"flex-start",children:[s.jsx(f,{variant:"h5",children:r}),I(),S(),w()]}),s.jsx($,{sx:{borderStyle:"dashed"}})]})})}function as({images:e}){var l;const n=es({thumbs:{slidesToShow:"auto"}}),a=(e==null?void 0:e.map(t=>({src:t})))||[],i=U(a);return B.useEffect(()=>{var t;i.open&&((t=n.mainApi)==null||t.scrollTo(i.selected,!0))},[n.mainApi,i.open,i.selected]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs(x,{sx:{mb:2.5,position:"relative"},children:[s.jsx(X,{...n.arrows,options:n.options,totalSlides:n.dots.dotCount,selectedIndex:n.dots.selectedIndex+1,sx:{right:16,bottom:16,position:"absolute"}}),s.jsx(Y,{carousel:n,sx:{borderRadius:2},children:a.map(t=>s.jsx(Q,{alt:t.src,src:t.src,ratio:"1/1",onClick:()=>i.onOpen(t.src),sx:{cursor:"zoom-in",minWidth:320}},t.src))})]}),s.jsx(Z,{ref:n.thumbs.thumbsRef,options:(l=n.options)==null?void 0:l.thumbs,slotProps:{disableMask:!0},sx:{width:360},children:a.map((t,r)=>s.jsx(ss,{index:r,src:t.src,selected:r===n.thumbs.selectedIndex,onClick:()=>n.thumbs.onClickThumb(r)},t.src))})]}),s.jsx(J,{index:i.selected,slides:a,open:i.open,close:i.onClose,onGetCurrentIndex:t=>i.setSelected(t)})]})}function rs({description:e,sx:n}){return s.jsx(ns,{children:e,sx:[()=>({p:3,"& p, li, ol, table":{typography:"body2"},"& table":{mt:2,maxWidth:640,"& td":{px:2},"& td:first-of-type":{color:"text.secondary"},"tbody tr:nth-of-type(odd)":{bgcolor:"transparent"}}}),...Array.isArray(n)?n:[n]]})}function os({product:e,error:n,loading:a}){const i={mt:5,mb:10},l=`
  Tác giả: ${e==null?void 0:e.author} <br />
  Thuộc: ${e==null?void 0:e.grade} <br />
  Bộ môn: ${e==null?void 0:e.subject}`;let t="",r="";e!=null&&e.grade.includes("Lớp ",0)?(t=e==null?void 0:e.grade,r=e==null?void 0:e.grade.replace("Lớp ","").split(", ").join("")):(t=`Lớp ${e==null?void 0:e.grade}`,r=((e==null?void 0:e.grade)||"").split(", ").join(""));let g="";e!=null&&e.subject&&(g=R(e==null?void 0:e.subject));let d="";e!=null&&e.subject&&(d=z(e.title.replace(".","")));const j=`${t}/thumbnail_stk${r}_${g}${r}_${d}.png`,p=[`${k.assetsDir}/assets/Thumbnail/${j}`],c=A("description");return a?s.jsx(b,{sx:i,children:s.jsx(ts,{})}):n?s.jsx(b,{sx:i,children:s.jsx(_,{filled:!0,title:"Không tìm thấy sản phẩm!",action:s.jsx(y,{component:P,href:L.product.root,startIcon:s.jsx(C,{width:16,icon:"eva:arrow-ios-back-fill"}),sx:{mt:3},children:"Về trang chủ"}),sx:{py:10}})}):s.jsxs(b,{sx:i,children:[s.jsx(E,{links:[{name:"Trang chủ",href:"/"},{name:e==null?void 0:e.title}],sx:{mb:5}}),s.jsxs(h,{container:!0,spacing:{xs:3,md:5,lg:8},children:[s.jsx(h,{size:{xs:12,md:6,lg:7},children:s.jsx(as,{images:p})}),s.jsxs(h,{size:{xs:12,md:6,lg:5},children:[e&&s.jsx(is,{product:e}),s.jsx(x,{sx:{my:4},children:s.jsxs(y,{variant:"contained",color:"primary",sx:{backgroundColor:"#1976d2",color:"#fff",textTransform:"none",fontSize:"16px",padding:"10px 20px",borderRadius:"8px","&:hover":{backgroundColor:"#1565c0"}},onClick:()=>window.location.href="tel:0942580848",startIcon:s.jsx(C,{icon:"solar:phone-bold"}),children:["Liên hệ ngay: ",s.jsx(f,{variant:"body2",fontWeight:"bold",color:"yellow",children:" 0942580848"})]})})]})]}),s.jsx(x,{sx:{gap:5,my:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"}}}),s.jsxs(F,{children:[s.jsx(M,{value:c.value,onChange:c.onChange,sx:[m=>({px:3,boxShadow:`inset 0 -2px 0 0 ${G(m.vars.palette.grey["500Channel"],.08)}`})],children:[{value:"description",label:"Mô tả"}].map(m=>s.jsx(V,{value:m.value,label:m.label},m.value))}),c.value==="description"&&s.jsx(rs,{description:l})]})]})}const ls={title:`Chi tiết - ${k.appName}`};function $s(){const{name:e="",idBook:n=""}=W(),{book:a,bookLoading:i,bookError:l}=N(n);return s.jsxs(s.Fragment,{children:[s.jsx("title",{children:ls.title}),s.jsx(os,{product:a,loading:i,error:l})]})}export{$s as default};
