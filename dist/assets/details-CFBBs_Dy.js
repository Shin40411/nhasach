import{j as s,z as I,bI as h,Z as j,I as l,dY as C,B as n,A as w,cq as k,cl as v,R as O,T as b,L as P,ex as p,M as f,dO as N,co as A,cp as B,aX as F,V as E,g as T,eh as L,fk as R,W as z,G as y,D as S,fi as M,x as $}from"./index-D6bpUwKX.js";import{u as G}from"./use-params-3mYV1zXJ.js";import"./order-list-view-DFGcWpZc.js";import{c as d}from"./format-number-Cj8l_lI8.js";import{S as u}from"./Stack-7h-e6yAT.js";import{T as H,a as U,b as W,c as _,d as q,e as V,t as X}from"./TimelineItem-B38oRj3k.js";import"./confirm-dialog-B7H0ptp_.js";import"./DialogTitle-6_KxcEEQ.js";import"./dialogTitleClasses-Bbkpp0St.js";import"./DialogContent-Byx-1axF.js";import"./DialogActions-CNc7tTfu.js";import"./table-pagination-custom-Brcw_a1V.js";import"./empty-content-DB3Nbb7N.js";import"./TableHead-BR3Xtr2P.js";import"./TableCell-ceTMykc4.js";import"./Checkbox-D-eTL2vR.js";import"./TablePagination-DGXdPpes.js";import"./LastPage-Cv1LM9EA.js";import"./FormControlLabel-BXvztm9I.js";import"./table-empty-rows-Cruyv86H.js";import"./table-head-custom-sEcjNvfC.js";import"./DatePicker-BUn93AuB.js";import"./index-DWKsHr_b.js";import"./index-Chjiymov.js";import"./filters-result-mlfDo3YB.js";function Y({sx:e,taxes:a,shipping:i,discount:t,subtotal:c,items:m=[],totalAmount:x,...g}){const r=()=>s.jsxs(n,{sx:{p:3,gap:2,display:"flex",textAlign:"right",typography:"body2",alignItems:"flex-end",flexDirection:"column"},children:[s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{sx:{color:"text.secondary"},children:"Subtotal"}),s.jsx(n,{sx:{width:160,typography:"subtitle2"},children:d(c)||"-"})]}),s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{sx:{color:"text.secondary"},children:"Shipping"}),s.jsx(n,{sx:{width:160,...i&&{color:"error.main"}},children:i?`- ${d(i)}`:"-"})]}),s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{sx:{color:"text.secondary"},children:"Discount"}),s.jsx(n,{sx:{width:160,...t&&{color:"error.main"}},children:t?`- ${d(t)}`:"-"})]}),s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{sx:{color:"text.secondary"},children:"Taxes"}),s.jsx(n,{sx:{width:160},children:a?d(a):"-"})]}),s.jsxs(n,{sx:{display:"flex",typography:"subtitle1"},children:[s.jsx("div",{children:"Total"}),s.jsx(n,{sx:{width:160},children:d(x)||"-"})]})]});return s.jsxs(I,{sx:e,...g,children:[s.jsx(h,{title:"Details",action:s.jsx(j,{children:s.jsx(l,{icon:"solar:pen-bold"})})}),s.jsx(C,{children:m.map(o=>s.jsxs(n,{sx:[D=>({p:3,minWidth:640,display:"flex",alignItems:"center",borderBottom:`dashed 2px ${D.vars.palette.background.neutral}`})],children:[s.jsx(w,{src:o.coverUrl,variant:"rounded",sx:{width:48,height:48,mr:2}}),s.jsx(k,{primary:o.name,secondary:o.sku,slotProps:{primary:{sx:{typography:"body2"}},secondary:{sx:{mt:.5,color:"text.disabled"}}}}),s.jsxs(n,{sx:{typography:"body2"},children:["x",o.quantity]}),s.jsx(n,{sx:{width:110,textAlign:"right",typography:"subtitle2"},children:d(o.price)})]},o.id))}),r()]})}function Z({status:e,backHref:a,createdAt:i,orderNumber:t,statusOptions:c,onChangeStatus:m}){const x=v(),g=()=>s.jsx(N,{open:x.open,anchorEl:x.anchorEl,onClose:x.onClose,slotProps:{arrow:{placement:"top-right"}},children:s.jsx(A,{children:c.map(r=>s.jsx(B,{selected:r.value===e,onClick:()=>{x.onClose(),m(r.value)},children:r.label},r.value))})});return s.jsxs(s.Fragment,{children:[s.jsxs(n,{sx:{gap:3,display:"flex",mb:{xs:3,md:5},flexDirection:{xs:"column",md:"row"}},children:[s.jsxs(n,{sx:{gap:1,display:"flex",alignItems:"flex-start"},children:[s.jsx(j,{component:O,href:a,children:s.jsx(l,{icon:"eva:arrow-ios-back-fill"})}),s.jsxs(u,{spacing:.5,children:[s.jsxs(n,{sx:{gap:1,display:"flex",alignItems:"center"},children:[s.jsxs(b,{variant:"h4",children:[" Order ",t," "]}),s.jsx(P,{variant:"soft",color:e==="completed"&&"success"||e==="pending"&&"warning"||e==="cancelled"&&"error"||"default",children:e})]}),s.jsx(b,{variant:"body2",sx:{color:"text.disabled"},children:p(i)})]})]}),s.jsxs(n,{sx:{gap:1.5,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[s.jsx(f,{color:"inherit",variant:"outlined",endIcon:s.jsx(l,{icon:"eva:arrow-ios-downward-fill"}),onClick:x.onOpen,sx:{textTransform:"capitalize"},children:e}),s.jsx(f,{color:"inherit",variant:"outlined",startIcon:s.jsx(l,{icon:"solar:printer-minimalistic-bold"}),children:"Print"}),s.jsx(f,{color:"inherit",variant:"contained",startIcon:s.jsx(l,{icon:"solar:pen-bold"}),children:"Edit"})]})]}),g()]})}function J({history:e}){const a=()=>s.jsxs(F,{variant:"outlined",sx:{p:2.5,gap:2,minWidth:260,flexShrink:0,borderRadius:2,display:"flex",typography:"body2",borderStyle:"dashed",flexDirection:"column"},children:[s.jsxs("div",{children:[s.jsx(n,{sx:{mb:.5,color:"text.disabled"},children:"Order time"}),p(e==null?void 0:e.orderTime)]}),s.jsxs("div",{children:[s.jsx(n,{sx:{mb:.5,color:"text.disabled"},children:"Payment time"}),p(e==null?void 0:e.orderTime)]}),s.jsxs("div",{children:[s.jsx(n,{sx:{mb:.5,color:"text.disabled"},children:"Delivery time for the carrier"}),p(e==null?void 0:e.orderTime)]}),s.jsxs("div",{children:[s.jsx(n,{sx:{mb:.5,color:"text.disabled"},children:"Completion time"}),p(e==null?void 0:e.orderTime)]})]}),i=()=>s.jsx(H,{sx:{p:0,m:0,[`& .${X.root}:before`]:{flex:0,padding:0}},children:e==null?void 0:e.timeline.map((t,c)=>{const m=c===0,x=c===e.timeline.length-1;return s.jsxs(U,{children:[s.jsxs(W,{children:[s.jsx(_,{color:m&&"primary"||"grey"}),x?null:s.jsx(q,{})]}),s.jsxs(V,{children:[s.jsx(b,{variant:"subtitle2",children:t.title}),s.jsx(n,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:p(t.time)})]})]},t.title)})});return s.jsxs(I,{children:[s.jsx(h,{title:"History"}),s.jsxs(n,{sx:{p:3,gap:3,display:"flex",alignItems:{md:"flex-start"},flexDirection:{xs:"column-reverse",md:"row"}},children:[i(),a()]})]})}function K({payment:e}){return s.jsxs(s.Fragment,{children:[s.jsx(h,{title:"Payment",action:s.jsx(j,{children:s.jsx(l,{icon:"solar:pen-bold"})})}),s.jsxs(n,{sx:{p:3,gap:.5,display:"flex",typography:"body2",alignItems:"center",justifyContent:"flex-end"},children:[e==null?void 0:e.cardNumber,s.jsx(l,{icon:"payments:mastercard",width:36,height:"auto"})]})]})}function Q({customer:e}){return s.jsxs(s.Fragment,{children:[s.jsx(h,{title:"Customer info",action:s.jsx(j,{children:s.jsx(l,{icon:"solar:pen-bold"})})}),s.jsxs(n,{sx:{p:3,display:"flex"},children:[s.jsx(w,{alt:e==null?void 0:e.name,src:e==null?void 0:e.avatarUrl,sx:{width:48,height:48,mr:2}}),s.jsxs(u,{spacing:.5,sx:{typography:"body2",alignItems:"flex-start"},children:[s.jsx(b,{variant:"subtitle2",children:e==null?void 0:e.name}),s.jsx(n,{sx:{color:"text.secondary"},children:e==null?void 0:e.email}),s.jsxs("div",{children:["IP address:",s.jsx(n,{component:"span",sx:{color:"text.secondary",ml:.25},children:e==null?void 0:e.ipAddress})]}),s.jsx(f,{size:"small",color:"error",startIcon:s.jsx(l,{icon:"mingcute:add-line"}),sx:{mt:1},children:"Add to Blacklist"})]})]})]})}function ss({delivery:e}){return s.jsxs(s.Fragment,{children:[s.jsx(h,{title:"Delivery",action:s.jsx(j,{children:s.jsx(l,{icon:"solar:pen-bold"})})}),s.jsxs(u,{spacing:1.5,sx:{p:3,typography:"body2"},children:[s.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Ship by"}),e==null?void 0:e.shipBy]}),s.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Speedy"}),e==null?void 0:e.speedy]}),s.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Tracking No."}),s.jsx(E,{underline:"always",color:"inherit",children:e==null?void 0:e.trackingNumber})]})]})]})}function es({shippingAddress:e}){return s.jsxs(s.Fragment,{children:[s.jsx(h,{title:"Shipping",action:s.jsx(j,{children:s.jsx(l,{icon:"solar:pen-bold"})})}),s.jsxs(u,{spacing:1.5,sx:{p:3,typography:"body2"},children:[s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Address"}),e==null?void 0:e.fullAddress]}),s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Phone number"}),e==null?void 0:e.phoneNumber]})]})]})}function ns({order:e}){const[a,i]=T.useState(e==null?void 0:e.status),t=T.useCallback(c=>{i(c)},[]);return s.jsxs(L,{children:[s.jsx(Z,{status:a,createdAt:e==null?void 0:e.createdAt,orderNumber:e==null?void 0:e.orderNumber,backHref:z.dashboard.order.root,onChangeStatus:t,statusOptions:R}),s.jsxs(y,{container:!0,spacing:3,children:[s.jsx(y,{size:{xs:12,md:8},children:s.jsxs(n,{sx:{gap:3,display:"flex",flexDirection:{xs:"column-reverse",md:"column"}},children:[s.jsx(Y,{items:e==null?void 0:e.items,taxes:e==null?void 0:e.taxes,shipping:e==null?void 0:e.shipping,discount:e==null?void 0:e.discount,subtotal:e==null?void 0:e.subtotal,totalAmount:e==null?void 0:e.totalAmount}),s.jsx(J,{history:e==null?void 0:e.history})]})}),s.jsx(y,{size:{xs:12,md:4},children:s.jsxs(I,{children:[s.jsx(Q,{customer:e==null?void 0:e.customer}),s.jsx(S,{sx:{borderStyle:"dashed"}}),s.jsx(ss,{delivery:e==null?void 0:e.delivery}),s.jsx(S,{sx:{borderStyle:"dashed"}}),s.jsx(es,{shippingAddress:e==null?void 0:e.shippingAddress}),s.jsx(S,{sx:{borderStyle:"dashed"}}),s.jsx(K,{payment:e==null?void 0:e.payment})]})})]})]})}const is={title:`Order details | Dashboard - ${$.appName}`};function Os(){const{id:e=""}=G(),a=M.find(i=>i.id===e);return s.jsxs(s.Fragment,{children:[s.jsx("title",{children:is.title}),s.jsx(ns,{order:a})]})}export{Os as default};
